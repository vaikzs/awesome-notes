"use strict";(self.webpackChunkawesome_notes=self.webpackChunkawesome_notes||[]).push([[6554],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return c}});var a=n(7294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},m=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,i=e.originalType,p=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),d=s(n),c=l,k=d["".concat(p,".").concat(c)]||d[c]||u[c]||i;return n?a.createElement(k,r(r({ref:t},m),{},{components:n})):a.createElement(k,r({ref:t},m))}));function c(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var i=n.length,r=new Array(i);r[0]=d;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:l,r[1]=o;for(var s=2;s<i;s++)r[s]=n[s];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4822:function(e,t,n){n.r(t),n.d(t,{assets:function(){return m},contentTitle:function(){return p},default:function(){return c},frontMatter:function(){return o},metadata:function(){return s},toc:function(){return u}});var a=n(7462),l=n(3366),i=(n(7294),n(3905)),r=["components"],o={author:"Sabertazimi",authorTitle:"Web Developer",authorURL:"https://github.com/sabertazimi",authorImageURL:"https://github.com/sabertazimi.png",tags:["Programming","OS","Linux"]},p="Linux Basic Notes",s={unversionedId:"programming/linux/linuxBasicNotes",id:"programming/linux/linuxBasicNotes",title:"Linux Basic Notes",description:"Linux Boot System",source:"@site/notes/programming/linux/linuxBasicNotes.md",sourceDirName:"programming/linux",slug:"/programming/linux/linuxBasicNotes",permalink:"/awesome-notes/programming/linux/linuxBasicNotes",editUrl:"https://github.com/sabertazimi/awesome-notes/edit/main/notes/programming/linux/linuxBasicNotes.md",tags:[{label:"Programming",permalink:"/awesome-notes/tags/programming"},{label:"OS",permalink:"/awesome-notes/tags/os"},{label:"Linux",permalink:"/awesome-notes/tags/linux"}],version:"current",lastUpdatedBy:"sabertazimi",lastUpdatedAt:1651006569,formattedLastUpdatedAt:"4/26/2022",frontMatter:{author:"Sabertazimi",authorTitle:"Web Developer",authorURL:"https://github.com/sabertazimi",authorImageURL:"https://github.com/sabertazimi.png",tags:["Programming","OS","Linux"]},sidebar:"sidebar",previous:{title:"Game Design Basic Notes",permalink:"/awesome-notes/programming/game/gameDesignBasicNotes"},next:{title:"CMake Basic Notes",permalink:"/awesome-notes/programming/tools/buildTools/CMakeBasicNotes"}},m={},u=[{value:"Linux Boot System",id:"linux-boot-system",level:2},{value:"Grub",id:"grub",level:3},{value:"Grub Configuration",id:"grub-configuration",level:4},{value:"Grub Repair",id:"grub-repair",level:4},{value:"Windows Repair",id:"windows-repair",level:5},{value:"Ubuntu Live Repair",id:"ubuntu-live-repair",level:5},{value:"\u91cd\u88c5 Linux",id:"\u91cd\u88c5-linux",level:3},{value:"SSH \u547d\u4ee4",id:"ssh-\u547d\u4ee4",level:2},{value:"Key",id:"key",level:3},{value:"SSHD",id:"sshd",level:3},{value:"SSH Config File",id:"ssh-config-file",level:3},{value:"\u5bc6\u94a5\u6587\u4ef6",id:"\u5bc6\u94a5\u6587\u4ef6",level:3},{value:"\u8fdc\u7a0b\u4f20\u8f93\u6587\u4ef6",id:"\u8fdc\u7a0b\u4f20\u8f93\u6587\u4ef6",level:3},{value:"\u547d\u4ee4\u4f18\u5148\u7ea7",id:"\u547d\u4ee4\u4f18\u5148\u7ea7",level:2},{value:"Linux \u6587\u4ef6\u67b6\u6784",id:"linux-\u6587\u4ef6\u67b6\u6784",level:2},{value:"Ubuntu",id:"ubuntu",level:2},{value:"Ubuntu Locale Settings",id:"ubuntu-locale-settings",level:3},{value:"Ubuntu Themes",id:"ubuntu-themes",level:3},{value:"Icon Themes",id:"icon-themes",level:4},{value:"GTK Themes",id:"gtk-themes",level:4},{value:"GNOME Shell Extension",id:"gnome-shell-extension",level:4},{value:"Ubuntu Fonts",id:"ubuntu-fonts",level:3},{value:"Arch Linux",id:"arch-linux",level:2},{value:"Setup Arch Linux Configuration",id:"setup-arch-linux-configuration",level:3},{value:"Pacman",id:"pacman",level:3},{value:"AUR",id:"aur",level:3},{value:"Basic Commands",id:"basic-commands",level:2},{value:"ls",id:"ls",level:3},{value:"cd",id:"cd",level:3},{value:"pwd",id:"pwd",level:3},{value:"rm",id:"rm",level:3},{value:"cp",id:"cp",level:3},{value:"mv",id:"mv",level:3},{value:"ln",id:"ln",level:3},{value:"history",id:"history",level:3},{value:"Ctrl R History",id:"ctrl-r-history",level:3},{value:"History Shortcuts",id:"history-shortcuts",level:3},{value:"Find and Search Commands",id:"find-and-search-commands",level:2},{value:"locate",id:"locate",level:3},{value:"type",id:"type",level:3},{value:"apropos",id:"apropos",level:3},{value:"whereis and whatis",id:"whereis-and-whatis",level:3},{value:"which",id:"which",level:3},{value:"find",id:"find",level:3},{value:"Grep",id:"grep",level:3},{value:"CPU and Process Commands",id:"cpu-and-process-commands",level:2},{value:"uptime",id:"uptime",level:3},{value:"ps",id:"ps",level:3},{value:"top",id:"top",level:3},{value:"vmstat",id:"vmstat",level:3},{value:"pidstat",id:"pidstat",level:3},{value:"mpstat",id:"mpstat",level:3},{value:"lscpu",id:"lscpu",level:3},{value:"jobs",id:"jobs",level:3},{value:"bg",id:"bg",level:3},{value:"fg",id:"fg",level:3},{value:"kill",id:"kill",level:3},{value:"killall",id:"killall",level:3},{value:"shutdown",id:"shutdown",level:3},{value:"pstree",id:"pstree",level:3},{value:"xload and tload",id:"xload-and-tload",level:3},{value:"screen",id:"screen",level:3},{value:"CLI Input Output Commands",id:"cli-input-output-commands",level:2},{value:"cat",id:"cat",level:3},{value:"sort",id:"sort",level:3},{value:"uniq",id:"uniq",level:3},{value:"wc",id:"wc",level:3},{value:"Head and Tail",id:"head-and-tail",level:3},{value:"Tee",id:"tee",level:3},{value:"nl",id:"nl",level:3},{value:"fold",id:"fold",level:3},{value:"fmt",id:"fmt",level:3},{value:"pr",id:"pr",level:3},{value:"printf",id:"printf",level:3},{value:"Helper and Documentation Commands",id:"helper-and-documentation-commands",level:2},{value:"Man",id:"man",level:3},{value:"Help Shell",id:"help-shell",level:3},{value:"Info",id:"info",level:3},{value:"System Info",id:"system-info",level:3},{value:"Linux Documentation Reference",id:"linux-documentation-reference",level:3},{value:"Compress and Extract Commands",id:"compress-and-extract-commands",level:2},{value:"Zip",id:"zip",level:3},{value:"Gz",id:"gz",level:3},{value:"Bz2",id:"bz2",level:3},{value:"Tar",id:"tar",level:3},{value:"7z",id:"7z",level:3},{value:"User and Group Commands",id:"user-and-group-commands",level:2},{value:"\u7ec4\u64cd\u4f5c",id:"\u7ec4\u64cd\u4f5c",level:3},{value:"\u521b\u5efa\u7ec4",id:"\u521b\u5efa\u7ec4",level:4},{value:"\u4fee\u6539\u7ec4",id:"\u4fee\u6539\u7ec4",level:4},{value:"\u5220\u9664\u7ec4",id:"\u5220\u9664\u7ec4",level:4},{value:"\u67e5\u770b\u7ec4",id:"\u67e5\u770b\u7ec4",level:4},{value:"\u7528\u6237\u64cd\u4f5c",id:"\u7528\u6237\u64cd\u4f5c",level:3},{value:"\u589e\u52a0\u7528\u6237",id:"\u589e\u52a0\u7528\u6237",level:4},{value:"\u4fee\u6539\u7528\u6237",id:"\u4fee\u6539\u7528\u6237",level:4},{value:"\u5220\u9664\u7528\u6237",id:"\u5220\u9664\u7528\u6237",level:4},{value:"\u67e5\u770b\u7528\u6237",id:"\u67e5\u770b\u7528\u6237",level:4},{value:"\u9650\u5236\u7528\u6237",id:"\u9650\u5236\u7528\u6237",level:4},{value:"Privilege Management Commands",id:"privilege-management-commands",level:2},{value:"Common Privilege Management",id:"common-privilege-management",level:3},{value:"ACL Privilege Management",id:"acl-privilege-management",level:3},{value:"Sudo Privilege Management",id:"sudo-privilege-management",level:3},{value:"SetUID and SetGID",id:"setuid-and-setgid",level:3},{value:"Disk IO Commands",id:"disk-io-commands",level:2},{value:"\u6302\u8f7d\u547d\u4ee4",id:"\u6302\u8f7d\u547d\u4ee4",level:3},{value:"\u4fee\u590d\u547d\u4ee4",id:"\u4fee\u590d\u547d\u4ee4",level:3},{value:"\u5206\u533a\u547d\u4ee4",id:"\u5206\u533a\u547d\u4ee4",level:3},{value:"fdisk",id:"fdisk",level:4},{value:"parted",id:"parted",level:4},{value:"Zero Copy",id:"zero-copy",level:3},{value:"Device Management Commands",id:"device-management-commands",level:2},{value:"Host System Info Commands",id:"host-system-info-commands",level:3},{value:"Screen Monitor Commands",id:"screen-monitor-commands",level:3},{value:"xrandr",id:"xrandr",level:4},{value:"Monitor Info",id:"monitor-info",level:4},{value:"Touch Pad Synoptics",id:"touch-pad-synoptics",level:3},{value:"Package Manager Commands",id:"package-manager-commands",level:2},{value:"RPM Commands",id:"rpm-commands",level:3},{value:"YUM Commands",id:"yum-commands",level:3},{value:"Source Code Installation",id:"source-code-installation",level:3},{value:"Applications Management Commands",id:"applications-management-commands",level:3},{value:"Default Management Commands",id:"default-management-commands",level:3},{value:"APT Key Commands",id:"apt-key-commands",level:3},{value:"Network Commands",id:"network-commands",level:2},{value:"wget",id:"wget",level:3},{value:"Certificate Bot",id:"certificate-bot",level:3},{value:"GFW",id:"gfw",level:3},{value:"NetWork Management Commands",id:"network-management-commands",level:3},{value:"ufw",id:"ufw",level:3},{value:"arp",id:"arp",level:3},{value:"netstat",id:"netstat",level:3},{value:"nslookup",id:"nslookup",level:3},{value:"ping",id:"ping",level:3},{value:"telnet",id:"telnet",level:3},{value:"Trace Route",id:"trace-route",level:3},{value:"Net Filter Framework",id:"net-filter-framework",level:3},{value:"fping",id:"fping",level:3},{value:"hping",id:"hping",level:3},{value:"mtr",id:"mtr",level:3},{value:"nmap",id:"nmap",level:3},{value:"ncat",id:"ncat",level:3},{value:"Shell Execution Commands",id:"shell-execution-commands",level:2},{value:"Systemctl",id:"systemctl",level:3},{value:"Crontab Commands",id:"crontab-commands",level:3},{value:"Background Job Commands",id:"background-job-commands",level:3},{value:"Startup Job Commands",id:"startup-job-commands",level:3},{value:"Parallel Execution",id:"parallel-execution",level:3},{value:"C/C++ Binary Commands",id:"cc-binary-commands",level:2},{value:"ldd",id:"ldd",level:3},{value:"nm",id:"nm",level:3},{value:"Plot Commands",id:"plot-commands",level:2},{value:"Other Commands",id:"other-commands",level:2},{value:"Time",id:"time",level:3},{value:"Shell Scripts",id:"shell-scripts",level:2},{value:"Shell Warnings",id:"shell-warnings",level:3},{value:"\u6587\u4ef6\u91cd\u5b9a\u5411",id:"\u6587\u4ef6\u91cd\u5b9a\u5411",level:3},{value:"Here Document",id:"here-document",level:4},{value:"\u53d8\u91cf",id:"\u53d8\u91cf",level:3},{value:"\u57fa\u672c\u53d8\u91cf",id:"\u57fa\u672c\u53d8\u91cf",level:4},{value:"built-in \u53d8\u91cf",id:"built-in-\u53d8\u91cf",level:4},{value:"\u73af\u5883\u53d8\u91cf",id:"\u73af\u5883\u53d8\u91cf",level:4},{value:"Environment Command",id:"environment-command",level:5},{value:"\u6570\u503c\u8fd0\u7b97",id:"\u6570\u503c\u8fd0\u7b97",level:3},{value:"declare \u547d\u4ee4",id:"declare-\u547d\u4ee4",level:4},{value:"Bash Expansions",id:"bash-expansions",level:3},{value:"\u6d41\u7a0b\u63a7\u5236\u8bed\u53e5",id:"\u6d41\u7a0b\u63a7\u5236\u8bed\u53e5",level:3},{value:"if \u8bed\u53e5",id:"if-\u8bed\u53e5",level:4},{value:"case \u8bed\u53e5",id:"case-\u8bed\u53e5",level:4},{value:"for \u8bed\u53e5",id:"for-\u8bed\u53e5",level:4},{value:"while \u8bed\u53e5\u4e0e until \u8bed\u53e5",id:"while-\u8bed\u53e5\u4e0e-until-\u8bed\u53e5",level:4},{value:"do while statement",id:"do-while-statement",level:4},{value:"Bash Array",id:"bash-array",level:3},{value:"Bash Function",id:"bash-function",level:3},{value:"Bash IO",id:"bash-io",level:3},{value:"\u4fe1\u53f7",id:"\u4fe1\u53f7",level:3},{value:"Bash Debugging",id:"bash-debugging",level:3},{value:"Shell Script Best Practices",id:"shell-script-best-practices",level:3},{value:"Interactive Shell Script Tips",id:"interactive-shell-script-tips",level:3},{value:"Check Root Validation",id:"check-root-validation",level:4},{value:"Bash help option",id:"bash-help-option",level:4},{value:"Bash Silent Option",id:"bash-silent-option",level:4},{value:"Check Command Validation",id:"check-command-validation",level:4},{value:"Get Absolute Path",id:"get-absolute-path",level:5},{value:"Bash error handle",id:"bash-error-handle",level:4},{value:"Bash loading progress",id:"bash-loading-progress",level:4},{value:"Zsh",id:"zsh",level:3},{value:"Terminal",id:"terminal",level:2},{value:"Terminal Basis",id:"terminal-basis",level:3},{value:"Default Terminal",id:"default-terminal",level:3},{value:"Tmux",id:"tmux",level:3},{value:"Basic Tmux Commands",id:"basic-tmux-commands",level:4},{value:"Basic Hotkeys",id:"basic-hotkeys",level:4},{value:"Session management",id:"session-management",level:5},{value:"Tmux Windows Hotkeys",id:"tmux-windows-hotkeys",level:5},{value:"Tmux Panes Hotkeys",id:"tmux-panes-hotkeys",level:5},{value:"Tmux Scroll",id:"tmux-scroll",level:5},{value:"Tmux Configuration",id:"tmux-configuration",level:4},{value:"Perf Tools",id:"perf-tools",level:2},{value:"Top Command",id:"top-command",level:3},{value:"dmesg",id:"dmesg",level:3},{value:"iostat",id:"iostat",level:3},{value:"free",id:"free",level:3},{value:"sar",id:"sar",level:3},{value:"perf",id:"perf",level:3},{value:"Linux Tools",id:"linux-tools",level:2},{value:"FFmpeg",id:"ffmpeg",level:3},{value:"FFmpeg Probe",id:"ffmpeg-probe",level:4},{value:"FFmpeg Transform",id:"ffmpeg-transform",level:4},{value:"FFmpeg Cutting",id:"ffmpeg-cutting",level:4},{value:"FFmpeg Mixing",id:"ffmpeg-mixing",level:4},{value:"FFmpeg Screenshot",id:"ffmpeg-screenshot",level:4},{value:"FFmpeg Gif",id:"ffmpeg-gif",level:4},{value:"FFmpeg Subtitle",id:"ffmpeg-subtitle",level:4},{value:"FFmpeg Watermark",id:"ffmpeg-watermark",level:4},{value:"FFmpeg Desktop Recording",id:"ffmpeg-desktop-recording",level:4},{value:"FFmpeg Live Streaming",id:"ffmpeg-live-streaming",level:4},{value:"Nginx",id:"nginx",level:3},{value:"Nginx Basic Configuration",id:"nginx-basic-configuration",level:4},{value:"Namespaces and Cgroup",id:"namespaces-and-cgroup",level:3},{value:"Namespaces",id:"namespaces",level:4},{value:"Cgroup",id:"cgroup",level:4},{value:"Docker",id:"docker",level:3},{value:"Docker Installation",id:"docker-installation",level:4},{value:"Docker Uninstallation",id:"docker-uninstallation",level:4},{value:"Docker Basic Usage",id:"docker-basic-usage",level:4},{value:"Build Docker Image",id:"build-docker-image",level:5},{value:"Run Docker Image",id:"run-docker-image",level:5}],d={toc:u};function c(e){var t=e.components,n=(0,l.Z)(e,r);return(0,i.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"linux-basic-notes"},"Linux Basic Notes"),(0,i.kt)("h2",{id:"linux-boot-system"},"Linux Boot System"),(0,i.kt)("h3",{id:"grub"},"Grub"),(0,i.kt)("h4",{id:"grub-configuration"},"Grub Configuration"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/etc/default/grub"),"\u914d\u7f6e\u6587\u4ef6, \u7528\u4e8e\u4e00\u4e9b\u57fa\u672c\u7684\u4fee\u6539\u9879,\n\u5982\u9ed8\u8ba4\u542f\u52a8\u9879, Grub \u754c\u9762\u7b49\u5f85\u65f6\u957f, Grub \u4e3b\u9898 etc.\nMore details in ",(0,i.kt)("inlineCode",{parentName:"li"},"info -f grub -n 'Simple configuration'"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'# Default Startup OS\nGRUB_DEFAULT=0\n\n# Default Timeout\nGRUB_TIMEOUT=5\n\n# https://github.com/vinceliuice/grub2-themes\nGRUB_THEME="/boot/grub/themes/Tela/theme.txt"\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/etc/grub.d/*"),"\u751f\u6210",(0,i.kt)("inlineCode",{parentName:"li"},"/boot/grub/grub.cfg"),"\u7684\u6267\u884c\u811a\u672c(",(0,i.kt)("inlineCode",{parentName:"li"},"update-grub"),"\u547d\u4ee4),\n\u53ef\u4ee5\u66f4\u7ec6\u81f4\u5730\u4fee\u6539\u542f\u52a8\u9879, \u5982\u5404\u4e2a\u542f\u52a8\u9879\u7684\u540d\u79f0\u3001\u987a\u5e8f\u7b49.")),(0,i.kt)("h4",{id:"grub-repair"},"Grub Repair"),(0,i.kt)("h5",{id:"windows-repair"},"Windows Repair"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"easyBCD for non-efi loader"),(0,i.kt)("li",{parentName:"ul"},"with efi loader, run command:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'# root commander\nbcdedit /set "{bootmgr}" path \\EFI\\ubuntu\\grubx64.efi\n')),(0,i.kt)("h5",{id:"ubuntu-live-repair"},"Ubuntu Live Repair"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo add-apt add-apt-repository ppa:yannubuntu/boot-repair\nsudo apt update\nsudo apt install boot-repair\nboot-repair\n")),(0,i.kt)("h3",{id:"\u91cd\u88c5-linux"},"\u91cd\u88c5 Linux"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u81ea\u52a8\u6302\u8f7d\u9879 /etc/fstab etc/rc.local"),(0,i.kt)("li",{parentName:"ul"},"\u81ea\u5b9a\u4e49\u811a\u672c-\u65b0\u5efa\u76ee\u5f55(\u52a0\u5165\u73af\u5883\u53d8\u91cf)"),(0,i.kt)("li",{parentName:"ul"},"\u81ea\u5b9a\u4e49\u522b\u540d ~/.bashrc")),(0,i.kt)("h2",{id:"ssh-\u547d\u4ee4"},"SSH \u547d\u4ee4"),(0,i.kt)("h3",{id:"key"},"Key"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"ssh-keygen -t rsa\nssh-add ~/.ssh/id_rsa\n")),(0,i.kt)("h3",{id:"sshd"},"SSHD"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"config file in ",(0,i.kt)("inlineCode",{parentName:"li"},"/etc/ssh/sshd_config"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo systemctl reload sshd\nsudo service restart sshd\n")),(0,i.kt)("h3",{id:"ssh-config-file"},"SSH Config File"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"~/.ssh/config"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Host \u522b\u540d",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"HostName \u4e3b\u673a\u540d(ip) ",(0,i.kt)("inlineCode",{parentName:"li"},"ssh user@ip")),(0,i.kt)("li",{parentName:"ul"},"Port \u53ef\u5ffd\u7565"),(0,i.kt)("li",{parentName:"ul"},"User \u767b\u5f55\u7528\u6237\u540d ",(0,i.kt)("inlineCode",{parentName:"li"},"ssh user@ip")),(0,i.kt)("li",{parentName:"ul"},"PreferredAuthentications publicKey"),(0,i.kt)("li",{parentName:"ul"},"IdentityFile \u5bc6\u94a5\u6587\u4ef6\u5b8c\u6574\u8def\u5f84 ",(0,i.kt)("inlineCode",{parentName:"li"},"ssh -i file"))))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"Host github.com\n  HostName github.com\n  PreferredAuthentications publicKey\n  IdentityFile ~/.ssh/id_rsa\nHost cs.github.com\n  HostName github.com\n  PreferredAuthentications publicKey\n  IdentityFile ~/.ssh/cs\nHost cloud\n    HostName xx.org\n    User  root\n    IdentityFile ~/.ssh/dsl_private_key\nHost bwg\n    HostName 23.106.150.152\n    User root\n    Port 29692\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"git clone git@github.com:user/repo\ngit clone git@cs.github.com:user/repo\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"ssh -qTfnN -D 7070 bwg\ngoogle-chrome socks5 127.0.0.1 7070\n")),(0,i.kt)("h3",{id:"\u5bc6\u94a5\u6587\u4ef6"},"\u5bc6\u94a5\u6587\u4ef6"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u767b\u5f55\u8fdc\u7a0b\u4e3b\u673a\uff1assh -i sabertaz ",(0,i.kt)("a",{parentName:"li",href:"mailto:root@119.29.140.60"},"root@119.29.140.60")),(0,i.kt)("li",{parentName:"ul"},"\u6587\u4ef6\u4f20\u8f93\uff1asftp -i sabertaz ",(0,i.kt)("a",{parentName:"li",href:"mailto:root@119.29.140.60"},"root@119.29.140.60")),(0,i.kt)("li",{parentName:"ul"},"\u767b\u5f55\u6570\u636e\u5e93\uff1amysql -h 10.66.135.125 -P 3306 -u root -p")),(0,i.kt)("h3",{id:"\u8fdc\u7a0b\u4f20\u8f93\u6587\u4ef6"},"\u8fdc\u7a0b\u4f20\u8f93\u6587\u4ef6"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"rsync -ax -e 'ssh -c blowfish' /root/start_dir root@x.x.x.x:/root/dest_dir\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'sshpass -p "$DEPLOY_PASSWORD" \\\n  scp -o StrictHostKeyChecking=no \\\n      -P $DEPLOY_PORT \\\n      -r ./build $DEPLOY_USER@$DEPLOY_ADDR:/var/www/html\n')),(0,i.kt)("h2",{id:"\u547d\u4ee4\u4f18\u5148\u7ea7"},"\u547d\u4ee4\u4f18\u5148\u7ea7"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"\u5305\u542b\u8def\u5f84\u547d\u4ee4 ",(0,i.kt)("inlineCode",{parentName:"li"},"./vmtools.pl"),"."),(0,i.kt)("li",{parentName:"ol"},"\u522b\u540d\u547d\u4ee4."),(0,i.kt)("li",{parentName:"ol"},"Bash \u5185\u90e8\u547d\u4ee4."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"$PATH")," \u5305\u542b\u76ee\u5f55\u5185\u7684\u547d\u4ee4 (",(0,i.kt)("inlineCode",{parentName:"li"},"/bin"),"/",(0,i.kt)("inlineCode",{parentName:"li"},"/sbin"),").")),(0,i.kt)("h2",{id:"linux-\u6587\u4ef6\u67b6\u6784"},"Linux \u6587\u4ef6\u67b6\u6784"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"man hier\n")),(0,i.kt)("p",null,"\u901a\u8fc7\u6e90\u7801\u5305\u5b89\u88c5\u7684\u8f6f\u4ef6\uff0c\u53ef\u4ee5\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"p"},"./configure --prefix=/opt/"),"."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/usr/src"),": Kernel source code."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/usr/share/applications"),": Desktop shortcuts."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/usr/share/fonts/opentype"),": Open Type Fonts (OTF)."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/usr/share/fonts/truetype"),": True Type Fonts (TTF)."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/etc/nginx"),": Nginx.")),(0,i.kt)("h2",{id:"ubuntu"},"Ubuntu"),(0,i.kt)("h3",{id:"ubuntu-locale-settings"},"Ubuntu Locale Settings"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"export LANG=en_US\nxdg-user-dirs-gtk-update\nexport LANG=zh_CN\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"/var/lib/locales/supported.d/local")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo locale-gen zh_CN.GBK\nsudo locale-gen zh_CN.GB18030\nsudo dpkg-reconfigure locales\n")),(0,i.kt)("h3",{id:"ubuntu-themes"},"Ubuntu Themes"),(0,i.kt)("h4",{id:"icon-themes"},"Icon Themes"),(0,i.kt)("p",null,"Nightly build for Numix Circle icon:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo add-apt-repository ppa:numix/ppa\nsudo apt update\nsudo apt install numix-icon-theme-circle\n")),(0,i.kt)("h4",{id:"gtk-themes"},"GTK Themes"),(0,i.kt)("p",null,"GTK/GNOME themes located in ",(0,i.kt)("inlineCode",{parentName:"p"},"/usr/share/themes/")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"~/.themes/"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# Vimix Cursors Installation\ngit clone https://github.com/vinceliuice/Vimix-cursors\nsudo ./Vimix-cursors/install.sh\n\n# WhiteSur GNOME theme Installation\ngit clone https://github.com/vinceliuice/WhiteSur-gtk-theme\nsudo ./WhiteSur-gtk-theme/install.sh -t all -i ubuntu\n# Tweak for Firefox\nsudo ./WhiteSur-gtk-theme/tweaks.sh -f\n# Tweak for Snap Apps\nsudo ./WhiteSur-gtk-theme/tweaks.sh -s\n# Tweak for GDM\nsudo ./WhiteSur-gtk-theme/tweaks.sh -g -i ubuntu\n# Tweak Help Docs\nsudo ./WhiteSur-gtk-theme/tweaks.sh -h\n")),(0,i.kt)("p",null,"Repair for not detected HDMI problem:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo dpkg-reconfigure gdm3\nsudo apt install --reinstall gdm3 lightdm ubuntu-desktop\n")),(0,i.kt)("h4",{id:"gnome-shell-extension"},"GNOME Shell Extension"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Install GNOME shell extension for browser."),(0,i.kt)("li",{parentName:"ul"},"Install local binding app: ",(0,i.kt)("inlineCode",{parentName:"li"},"sudo apt install chrome-gnome-shell"),"."),(0,i.kt)("li",{parentName:"ul"},"Visit ",(0,i.kt)("inlineCode",{parentName:"li"},"extensions.gnome.org")," to install extensions.")),(0,i.kt)("h3",{id:"ubuntu-fonts"},"Ubuntu Fonts"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir -p ~/.local/share/fonts/\ncp -fr code-fonts ~/.local/share/fonts/\nfc-cache -f -v\nfc-list\nfc-list : family | sort | uniq\n")),(0,i.kt)("h2",{id:"arch-linux"},"Arch Linux"),(0,i.kt)("h3",{id:"setup-arch-linux-configuration"},"Setup Arch Linux Configuration"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"less /usr/share/aif/docs/official_installation_guide_en\npacman -S lynx arch-wiki-docs arch-wiki-lite\nlynx /usr/share/doc/arch-wiki/html/index.html\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"systemctl enable dhcpcd\nreboot\npacman -S --needed base-devel git wget jshon expac yajl zsh vim\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"makepkg")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"curl -L -O https://aur.archlinux.org/cgit/aur.git/snapshot/package_name.tar.gz\ncd package_name\nless PKGBUILD\nless package_name.install\n\nmakepkg -si\n# -s sync deps\n# -i install\n# -r rm deps\n# -c clean up\n")),(0,i.kt)("h3",{id:"pacman"},"Pacman"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"/etc/pacman.conf"),(0,i.kt)("li",{parentName:"ul"},"/etc/pacman.d/mirrorlist")),(0,i.kt)("h3",{id:"aur"},"AUR"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://archlinux.fr/yaourt-en"},"yaourt"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# packages' list\nwget https://aur.archlinux.org/packages.gz\n")),(0,i.kt)("h2",{id:"basic-commands"},"Basic Commands"),(0,i.kt)("h3",{id:"ls"},"ls"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-lh"),": long human."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-ld"),": long directory."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-i inode --color==auto"))),(0,i.kt)("p",null,"\u6743\u9650 (user/group/other) \u5f15\u7528\u8ba1\u6570 user group \u6587\u4ef6\u5927\u5c0f \u6587\u4ef6\u4fee\u6539\u65f6\u95f4 \u6587\u4ef6\u540d."),(0,i.kt)("h3",{id:"cd"},"cd"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-"),": \u4e0a\u6b21\u76ee\u5f55."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},".."),": \u4e0a\u7ea7\u76ee\u5f55.")),(0,i.kt)("h3",{id:"pwd"},"pwd"),(0,i.kt)("p",null,"print working directory"),(0,i.kt)("h3",{id:"rm"},"rm"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u2013r delete directory"),(0,i.kt)("li",{parentName:"ul"},"\u2013f delete forcedly"),(0,i.kt)("li",{parentName:"ul"},"-i \u663e\u793a\u786e\u8ba4\u4fe1\u606f")),(0,i.kt)("h3",{id:"cp"},"cp"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"-r copy directory"),(0,i.kt)("li",{parentName:"ul"},"-p copy property"),(0,i.kt)("li",{parentName:"ul"},"-d copy link"),(0,i.kt)("li",{parentName:"ul"},"-a --all(-pdr)"),(0,i.kt)("li",{parentName:"ul"},"-i \u663e\u793a\u786e\u8ba4\u4fe1\u606f")),(0,i.kt)("h3",{id:"mv"},"mv"),(0,i.kt)("p",null,"\u65e0\u9700\u53c2\u6570(\u6539\u540d+\u79fb\u52a8)"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"-i \u663e\u793a\u786e\u8ba4\u4fe1\u606f")),(0,i.kt)("h3",{id:"ln"},"ln"),(0,i.kt)("p",null,"link: create ",(0,i.kt)("inlineCode",{parentName:"p"},".bak/.hard")," (\u786c\u94fe\u63a5) and ",(0,i.kt)("inlineCode",{parentName:"p"},".soft")," (\u8f6f\u94fe\u63a5\uff1a\u521b\u5efa\u94fe\u63a5\u65f6\u586b\u5199\u7edd\u5bf9\u8def\u5f84)."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"A hard link always points a filename to data on a storage device."),(0,i.kt)("li",{parentName:"ul"},"A soft link always points a filename to another filename,\nwhich then points to information on a storage device.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"ln [\u6e90\u6587\u4ef6] [New Hard Link File]\nln -s [\u6e90\u6587\u4ef6] [New Soft Link File]\n")),(0,i.kt)("h3",{id:"history"},"history"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"-c \u6e05\u9664\u5386\u53f2\u547d\u4ee4"),(0,i.kt)("li",{parentName:"ul"},"-w (~/.bash_history) \u4fdd\u5b58\u5386\u53f2\u547d\u4ee4")),(0,i.kt)("p",null,"/etc/profile \u4e2d\u4fee\u6539 HISTSIZE !n/!!/!\u5b57\u7b26\u4e32 \u91cd\u590d\u6267\u884c\u7b2c n \u6761/\u4e0a\u4e00\u6761/\u6307\u5b9a\u5f00\u5934\u7684\u5386\u53f2\u547d\u4ee4"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# repeat history command\n!number\n")),(0,i.kt)("h3",{id:"ctrl-r-history"},"Ctrl R History"),(0,i.kt)("p",null,"Press ",(0,i.kt)("inlineCode",{parentName:"p"},"ctrl-r")," \u63d0\u793a\u7b26\u6539\u53d8, \u663e\u793a\u6211\u4eec\u6b63\u5728\u6267\u884c\u53cd\u5411\u589e\u91cf\u641c\u7d22.\n\u641c\u7d22\u8fc7\u7a0b\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"\u53cd\u5411\u7684"),"\uff0c\u56e0\u4e3a\u6211\u4eec\u6309\u7167\u4ece",(0,i.kt)("inlineCode",{parentName:"p"},"\u73b0\u5728"),"\u5230",(0,i.kt)("inlineCode",{parentName:"p"},"\u8fc7\u53bb"),"\u67d0\u4e2a\u65f6\u95f4\u6bb5\u7684\u987a\u5e8f\u6765\u641c\u5bfb.\n\u4e0b\u4e00\u6b65, \u6211\u4eec\u5f00\u59cb\u8f93\u5165\u8981\u67e5\u627e\u7684\u6587\u672c\u641c\u7d22\u8fd4\u56de\u6211\u4eec\u9700\u8981\u7684\u7ed3\u679c.\n(",(0,i.kt)("inlineCode",{parentName:"p"},"enter")," to execute, ",(0,i.kt)("inlineCode",{parentName:"p"},"ctrl-j")," to copy)"),(0,i.kt)("h3",{id:"history-shortcuts"},"History Shortcuts"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"command"),(0,i.kt)("th",{parentName:"tr",align:"left"},"function"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"Ctrl-p")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u79fb\u52a8\u5230\u4e0a\u4e00\u4e2a\u5386\u53f2\u6761\u76ee")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"Ctrl-n")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u79fb\u52a8\u5230\u4e0b\u4e00\u4e2a\u5386\u53f2\u6761\u76ee")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"Alt-<")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u79fb\u52a8\u5230\u5386\u53f2\u5217\u8868\u5f00\u5934")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"Alt->")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u79fb\u52a8\u5230\u5386\u53f2\u5217\u8868\u7ed3\u5c3e")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"Ctrl-r")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u53cd\u5411\u589e\u91cf\u641c\u7d22")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"Alt-p")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u53cd\u5411\u641c\u7d22\uff0c\u975e\u589e\u91cf\u641c\u7d22")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"Alt-n")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u5411\u524d\u641c\u7d22\uff0c\u975e\u589e\u91cf")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"Ctrl-o")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u6267\u884c\u5386\u53f2\u5217\u8868\u4e2d\u7684\u5f53\u524d\u9879\uff0c\u5e76\u79fb\u5230\u4e0b\u4e00\u4e2a")))),(0,i.kt)("h2",{id:"find-and-search-commands"},"Find and Search Commands"),(0,i.kt)("h3",{id:"locate"},"locate"),(0,i.kt)("p",null,"\u7ed3\u5408 updatedb \u547d\u4ee4(\u8be5\u547d\u4ee4\u4e00\u822c\u81ea\u52a8 1 \u5929/\u6b21)"),(0,i.kt)("h3",{id:"type"},"type"),(0,i.kt)("p",null,"indicate how a command name is interpreted"),(0,i.kt)("h3",{id:"apropos"},"apropos"),(0,i.kt)("p",null,"display a list of appropriate commands"),(0,i.kt)("h3",{id:"whereis-and-whatis"},"whereis and whatis"),(0,i.kt)("h3",{id:"which"},"which"),(0,i.kt)("h3",{id:"find"},"find"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},'find [\u641c\u7d22\u8def\u5f84] [\u53ef\u9009\u53c2\u6570] [\u6587\u4ef6\u540d](\u53ef\u52a0"")'),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"-name"),(0,i.kt)("li",{parentName:"ul"},"-iname \u4e0d\u533a\u5206\u5927\u5c0f\u5199"),(0,i.kt)("li",{parentName:"ul"},"-user ",(0,i.kt)("inlineCode",{parentName:"li"},"user_name")," \u6309\u7167\u6240\u6709\u8005\u641c\u7d22"),(0,i.kt)("li",{parentName:"ul"},"-nouser \u641c\u7d22\u6ca1\u6709\u6240\u6709\u8005\u7684\u6587\u4ef6"),(0,i.kt)("li",{parentName:"ul"},"-atime(\u6587\u4ef6\u8bbf\u95ee\u65f6\u95f4)/-ctime(\u6539\u53d8\u6587\u4ef6\u5c5e\u6027)/-mtime(\u6539\u53d8\u6587\u4ef6\u5185\u5bb9) -10(\u5341\u5929\u5185)/10(\u5341\u5929\u5f53\u5929)/+10(\u5341\u5929\u524d)"),(0,i.kt)("li",{parentName:"ul"},"-size(\u6587\u4ef6\u5927\u5c0f) -25k(\u5c0f\u4e8e 25k)/25M(25M)/+25G(\u5927\u4e8e 25G)"),(0,i.kt)("li",{parentName:"ul"},"-inum ",(0,i.kt)("inlineCode",{parentName:"li"},"inode_number")),(0,i.kt)("li",{parentName:"ul"},"-a / -o \u903b\u8f91\u4e0e/\u903b\u8f91\u6216(\u5de6\u53f3\u4e24\u7aef\u641c\u7d22\u6761\u4ef6)"),(0,i.kt)("li",{parentName:"ul"},"-exec/-ok `system_command_list {} \\;\u5bf9\u641c\u7d22\u7ed3\u679c\u6267\u884c\u64cd\u4f5c")),(0,i.kt)("h3",{id:"grep"},"Grep"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"grep")," ",(0,i.kt)("inlineCode",{parentName:"p"},"[\u53ef\u9009\u53c2\u6570] '\u5b57\u7b26\u4e32' \u6587\u4ef6\u540d"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-I"),": \u4e0d\u533a\u5206\u5927\u5c0f\u5199"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-v"),": \u6392\u9664\u6307\u5b9a\u5b57\u7b26\u4e32"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-r"),": recursive on directory"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-l"),": only print matched filename"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"--exclude"))),(0,i.kt)("p",null,"Find ",(0,i.kt)("inlineCode",{parentName:"p"},"FunctionalComponent")," in files and open them all:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"grep -lr FunctionalComponent src --exclude=*.md | xargs code\n")),(0,i.kt)("h2",{id:"cpu-and-process-commands"},"CPU and Process Commands"),(0,i.kt)("h3",{id:"uptime"},"uptime"),(0,i.kt)("p",null,"Average load information"),(0,i.kt)("h3",{id:"ps"},"ps"),(0,i.kt)("p",null,"Report a snapshot of current processes"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"ps aux\n")),(0,i.kt)("h3",{id:"top"},"top"),(0,i.kt)("p",null,"top/htop:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Display tasks"),(0,i.kt)("li",{parentName:"ul"},"Average load"),(0,i.kt)("li",{parentName:"ul"},"Process status"),(0,i.kt)("li",{parentName:"ul"},"CPU usage")),(0,i.kt)("p",null,"atop:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Memory usage"),(0,i.kt)("li",{parentName:"ul"},"Disk I/O usage"),(0,i.kt)("li",{parentName:"ul"},"Network usage")),(0,i.kt)("h3",{id:"vmstat"},"vmstat"),(0,i.kt)("p",null,"Outputs a snapshot of system resource usage:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"CPU usage"),(0,i.kt)("li",{parentName:"ul"},"Context switch times"),(0,i.kt)("li",{parentName:"ul"},"Interrupt times (/proc/interrupts)"),(0,i.kt)("li",{parentName:"ul"},"Running and exclusive process status"),(0,i.kt)("li",{parentName:"ul"},"Memory usage"),(0,i.kt)("li",{parentName:"ul"},"Swap space"),(0,i.kt)("li",{parentName:"ul"},"Disk I/O usage")),(0,i.kt)("h3",{id:"pidstat"},"pidstat"),(0,i.kt)("p",null,"Process and Thread:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"CPU usage"),(0,i.kt)("li",{parentName:"ul"},"Context switch times"),(0,i.kt)("li",{parentName:"ul"},"Interrupt times (/proc/interrupts)")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"pidstat 1\n")),(0,i.kt)("h3",{id:"mpstat"},"mpstat"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"CPU usage"),(0,i.kt)("li",{parentName:"ul"},"Software interrupt times (/proc/interrupts)")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"mpstat -P ALL 1\n")),(0,i.kt)("h3",{id:"lscpu"},"lscpu"),(0,i.kt)("p",null,"Show ",(0,i.kt)("inlineCode",{parentName:"p"},"/proc/cpuinfo"),"."),(0,i.kt)("h3",{id:"jobs"},"jobs"),(0,i.kt)("p",null,"list active jobs"),(0,i.kt)("h3",{id:"bg"},"bg"),(0,i.kt)("p",null,"place a job in the background"),(0,i.kt)("h3",{id:"fg"},"fg"),(0,i.kt)("p",null,"place a job in the foreground"),(0,i.kt)("h3",{id:"kill"},"kill"),(0,i.kt)("p",null,"send a signal to a process"),(0,i.kt)("h3",{id:"killall"},"killall"),(0,i.kt)("p",null,"kill processes by name"),(0,i.kt)("h3",{id:"shutdown"},"shutdown"),(0,i.kt)("p",null,"shutdown or reboot the system"),(0,i.kt)("h3",{id:"pstree"},"pstree"),(0,i.kt)("p",null,"outputs a process list arranged in a tree-like pattern"),(0,i.kt)("h3",{id:"xload-and-tload"},"xload and tload"),(0,i.kt)("p",null,"draws a graph showing system load over time"),(0,i.kt)("h3",{id:"screen"},"screen"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"screen -S screenName\nscreen -ls\nscreen -r\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Ctrl+d // detach window"),(0,i.kt)("li",{parentName:"ul"},"Ctrl+k // kill window")),(0,i.kt)("h2",{id:"cli-input-output-commands"},"CLI Input Output Commands"),(0,i.kt)("h3",{id:"cat"},"cat"),(0,i.kt)("p",null,"concatenate files"),(0,i.kt)("h3",{id:"sort"},"sort"),(0,i.kt)("p",null,"sort lines of text"),(0,i.kt)("h3",{id:"uniq"},"uniq"),(0,i.kt)("p",null,"report or omit repeated lines"),(0,i.kt)("h3",{id:"wc"},"wc"),(0,i.kt)("p",null,"print newline, word, and byte counts for each file"),(0,i.kt)("h3",{id:"head-and-tail"},"Head and Tail"),(0,i.kt)("p",null,"output the first/last part of a file"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"head -n 5 filename\ntail -f filename\n")),(0,i.kt)("h3",{id:"tee"},"Tee"),(0,i.kt)("p",null,"read from standard input and write to standard output and files"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"[me@linuxBox ~]$ ls /usr/bin | tee ls.txt | grep zip\nbunzip2\nbzip2\n....\n")),(0,i.kt)("h3",{id:"nl"},"nl"),(0,i.kt)("p",null,"number lines"),(0,i.kt)("h3",{id:"fold"},"fold"),(0,i.kt)("p",null,"wrap each line to a specified length"),(0,i.kt)("h3",{id:"fmt"},"fmt"),(0,i.kt)("p",null,"a simple text formatter"),(0,i.kt)("h3",{id:"pr"},"pr"),(0,i.kt)("p",null,"prepare text for printing"),(0,i.kt)("h3",{id:"printf"},"printf"),(0,i.kt)("p",null,"format and print data"),(0,i.kt)("h2",{id:"helper-and-documentation-commands"},"Helper and Documentation Commands"),(0,i.kt)("h3",{id:"man"},"Man"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"-f \u663e\u793a\u64cd\u4f5c\u7b49\u7ea7"),(0,i.kt)("li",{parentName:"ul"},"-k \u5305\u542b\u5339\u914d"),(0,i.kt)("li",{parentName:"ul"},"-1/2/.../9 \u663e\u793a\u547d\u4ee4\u4e0d\u540c\u64cd\u4f5c\u7b49\u7ea7\u7684\u5e2e\u52a9")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Commands (Programs)\nThose commands that can be executed by the user from within a shell."),(0,i.kt)("li",{parentName:"ol"},"System calls\nThose functions which must be performed by the kernel."),(0,i.kt)("li",{parentName:"ol"},"Library calls\nMost of the libc functions."),(0,i.kt)("li",{parentName:"ol"},"Special files (devices)\nFiles found in /dev."),(0,i.kt)("li",{parentName:"ol"},"File formats and conventions\nThe format for /etc/passwd and other human-readable files."),(0,i.kt)("li",{parentName:"ol"},"Games"),(0,i.kt)("li",{parentName:"ol"},"Conventions and miscellaneous\nOverviews of various topics, conventions and protocols,\ncharacter set standards, and miscellaneous other things."),(0,i.kt)("li",{parentName:"ol"},"System management commands\nCommands like mount(8), many of which only root can execute.")),(0,i.kt)("h3",{id:"help-shell"},"Help Shell"),(0,i.kt)("p",null,"\u663e\u793a shell \u5185\u90e8\u547d\u4ee4\u5e2e\u52a9\uff0c\u5982 cd \u547d\u4ee4(shell \u5185\u90e8\u547d\u4ee4)"),(0,i.kt)("h3",{id:"info"},"Info"),(0,i.kt)("p",null,"\u663e\u793a\u5927\u578b\u5e2e\u52a9\u6587\u6863 - enter \u8fdb\u5165 u \u8fd4\u56de p \u4e0a\u4e00\u8282 n \u4e0b\u4e00\u8282 q \u9000\u51fa"),(0,i.kt)("h3",{id:"system-info"},"System Info"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo add-apt-repository ppa:dawidd0811/neofetch\nsudo apt-get update\nsudo apt-get install neofetch\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get install screenfetch\n")),(0,i.kt)("h3",{id:"linux-documentation-reference"},"Linux Documentation Reference"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://dashdash.io"},"DashDash: Beautiful Linax Manual Pages")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://wiki.archlinux.org"},"ArchWiki"))),(0,i.kt)("h2",{id:"compress-and-extract-commands"},"Compress and Extract Commands"),(0,i.kt)("h3",{id:"zip"},"Zip"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"zip -r(\u76ee\u5f55) \u538b\u7f29\u6587\u4ef6 \u6e90\u6587\u4ef6/\u6e90\u76ee\u5f55"),(0,i.kt)("li",{parentName:"ul"},"unzip \u6e90\u6587\u4ef6 -d \u6307\u5b9a\u8def\u5f84")),(0,i.kt)("h3",{id:"gz"},"Gz"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"gzip \u6e90\u6587\u4ef6"),(0,i.kt)("li",{parentName:"ul"},"gzip \u2013c \u6e90\u6587\u4ef6 > \u538b\u7f29\u6587\u4ef6"),(0,i.kt)("li",{parentName:"ul"},"gzip -r \u6e90\u76ee\u5f55 \u5c06\u6e90\u76ee\u5f55\u4e0b\u6240\u6709\u5b50\u6587\u4ef6\u5206\u522b\u5355\u72ec\u538b\u7f29"),(0,i.kt)("li",{parentName:"ul"},"gzip \u2013d(\u89e3\u538b\u7f29) \u6587\u4ef6"),(0,i.kt)("li",{parentName:"ul"},"gunzip \u538b\u7f29\u6587\u4ef6")),(0,i.kt)("h3",{id:"bz2"},"Bz2"),(0,i.kt)("p",null,"\u4e0d\u53ef\u538b\u7f29\u76ee\u5f55"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"bzip2 \u2013k(\u4fdd\u7559\u6e90\u6587\u4ef6) \u6e90\u6587\u4ef6"),(0,i.kt)("li",{parentName:"ul"},"bzip2 \u2013d(\u89e3\u538b\u7f29) \u2013k(\u4fdd\u7559\u538b\u7f29\u6587\u4ef6) \u538b\u7f29\u6587\u4ef6"),(0,i.kt)("li",{parentName:"ul"},"bunzip2 \u2013k(\u4fdd\u7559\u538b\u7f29\u6587\u4ef6) \u538b\u7f29\u6587\u4ef6")),(0,i.kt)("h3",{id:"tar"},"Tar"),(0,i.kt)("p",null,"tar.gz/.tar.bz2:"),(0,i.kt)("p",null,"tar ","[\u53ef\u9009\u53c2\u6570]"," \u538b\u7f29\u6587\u4ef6(\u53ef\u6307\u5b9a\u538b\u7f29\u8def\u5f84) ","[-c \u89e3\u538b\u7f29\u8def\u5f84]","\u6e90\u6587\u4ef6/\u6e90\u76ee\u5f55"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"-z \u5c06.tar \u538b\u7f29\u4e3a.tar.gz -j \u5c06.tar \u538b\u7f29\u4e3a.tar.bz2"),(0,i.kt)("li",{parentName:"ul"},"-c \u6253\u5305 -x \u89e3\u6253\u5305"),(0,i.kt)("li",{parentName:"ul"},"-t \u67e5\u770b\u538b\u7f29\u6587\u4ef6"),(0,i.kt)("li",{parentName:"ul"},"-v \u663e\u793a\u8fc7\u7a0b"),(0,i.kt)("li",{parentName:"ul"},"-f \u6307\u5b9a\u538b\u7f29\u6587\u4ef6\u540d"),(0,i.kt)("li",{parentName:"ul"},"-C \u6307\u5b9a\u89e3\u538b\u7f29\u8def\u5f84"),(0,i.kt)("li",{parentName:"ul"},"-zcvf/-zxvf/-ztcf -jcvf/-jxvf/-jtvf")),(0,i.kt)("h3",{id:"7z"},"7z"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"7z x manager.7z -r -o /home/xx\n7z a -t7z -r manager.7z /home/manager/*\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"a: add"),(0,i.kt)("li",{parentName:"ul"},"x: extract"),(0,i.kt)("li",{parentName:"ul"},"-r: recursive"),(0,i.kt)("li",{parentName:"ul"},"-o: specific path"),(0,i.kt)("li",{parentName:"ul"},"-t: type")),(0,i.kt)("h2",{id:"user-and-group-commands"},"User and Group Commands"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"w/who \u67e5\u770b\u7528\u6237\u8be6\u7ec6\u4fe1\u606f"),(0,i.kt)("li",{parentName:"ul"},"last \u663e\u793a\u6240\u6709\u7528\u6237\u767b\u9646\u4fe1\u606f(/var/log/wtmp)"),(0,i.kt)("li",{parentName:"ul"},"lastlog \u663e\u793a\u6240\u6709\u7528\u6237\u6700\u540e\u4e00\u6b21\u767b\u9646\u65f6\u95f4(/var/log/lastlog)")),(0,i.kt)("h3",{id:"\u7ec4\u64cd\u4f5c"},"\u7ec4\u64cd\u4f5c"),(0,i.kt)("h4",{id:"\u521b\u5efa\u7ec4"},"\u521b\u5efa\u7ec4"),(0,i.kt)("p",null,"groupadd test"),(0,i.kt)("h4",{id:"\u4fee\u6539\u7ec4"},"\u4fee\u6539\u7ec4"),(0,i.kt)("p",null,"groupmod -n test2 test -g"),(0,i.kt)("h4",{id:"\u5220\u9664\u7ec4"},"\u5220\u9664\u7ec4"),(0,i.kt)("p",null,"groupdel test2"),(0,i.kt)("h4",{id:"\u67e5\u770b\u7ec4"},"\u67e5\u770b\u7ec4"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"groups someUser"),(0,i.kt)("li",{parentName:"ul"},"cat /etc/group")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"cat /etc/passwd | awk -F [:] \u2018{print $4}\u2019\n\\ |sort|uniq | getent group |awk -F [:] \u2018{print $1}\u2019\n")),(0,i.kt)("h3",{id:"\u7528\u6237\u64cd\u4f5c"},"\u7528\u6237\u64cd\u4f5c"),(0,i.kt)("h4",{id:"\u589e\u52a0\u7528\u6237"},"\u589e\u52a0\u7528\u6237"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"useradd [options] LOGIN\n")),(0,i.kt)("p",null,"Options:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"-b, --base-dir BASE_DIR \u8bbe\u7f6e\u57fa\u672c\u8def\u5f84\u4f5c\u4e3a\u7528\u6237\u7684\u767b\u5f55\u76ee\u5f55"),(0,i.kt)("li",{parentName:"ul"},"-c, --comment COMMENT \u5bf9\u7528\u6237\u7684\u6ce8\u91ca"),(0,i.kt)("li",{parentName:"ul"},"-d, --home-dir HOME_DIR \u8bbe\u7f6e\u7528\u6237\u7684\u767b\u5f55\u76ee\u5f55"),(0,i.kt)("li",{parentName:"ul"},"-D, --defaults \u6539\u53d8\u8bbe\u7f6e"),(0,i.kt)("li",{parentName:"ul"},"-e, --expiredate EXPIRE_DATE \u8bbe\u7f6e\u7528\u6237\u7684\u6709\u6548\u671f"),(0,i.kt)("li",{parentName:"ul"},"-f, --inactive INACTIVE \u7528\u6237\u8fc7\u671f\u540e\uff0c\u8ba9\u5bc6\u7801\u65e0\u6548"),(0,i.kt)("li",{parentName:"ul"},"-g, --gid GROUP \u4f7f\u7528\u6237\u53ea\u5c5e\u4e8e\u67d0\u4e2a\u7ec4"),(0,i.kt)("li",{parentName:"ul"},"-G, --groups GROUPS \u4f7f\u7528\u6237\u52a0\u5165\u67d0\u4e2a\u7ec4(\u9644\u8bbe\u7ec4)"),(0,i.kt)("li",{parentName:"ul"},"-h, --help \u5e2e\u52a9"),(0,i.kt)("li",{parentName:"ul"},"-k, --skel SKEL_DIR \u6307\u5b9a\u5176\u4ed6\u7684 skel \u76ee\u5f55"),(0,i.kt)("li",{parentName:"ul"},"-K, --key KEY=VALUE \u8986\u76d6 /etc/login.defs \u914d\u7f6e\u6587\u4ef6"),(0,i.kt)("li",{parentName:"ul"},"-m, --create-home \u81ea\u52a8\u521b\u5efa\u767b\u5f55\u76ee\u5f55"),(0,i.kt)("li",{parentName:"ul"},"-l, \u4e0d\u628a\u7528\u6237\u52a0\u5165\u5230 lastlog \u6587\u4ef6\u4e2d"),(0,i.kt)("li",{parentName:"ul"},"-M, \u4e0d\u81ea\u52a8\u521b\u5efa\u767b\u5f55\u76ee\u5f55"),(0,i.kt)("li",{parentName:"ul"},"-r, \u5efa\u7acb\u7cfb\u7edf\u8d26\u53f7"),(0,i.kt)("li",{parentName:"ul"},"-o, --non-unique \u5141\u8bb8\u7528\u6237\u62e5\u6709\u76f8\u540c\u7684 UID"),(0,i.kt)("li",{parentName:"ul"},"-p, --password PASSWORD \u4e3a\u65b0\u7528\u6237\u4f7f\u7528\u52a0\u5bc6\u5bc6\u7801"),(0,i.kt)("li",{parentName:"ul"},"-s, --shell SHELL \u767b\u5f55\u65f6\u5019\u7684 shell"),(0,i.kt)("li",{parentName:"ul"},"-u, --uid UID \u4e3a\u65b0\u7528\u6237\u6307\u5b9a\u4e00\u4e2a UID"),(0,i.kt)("li",{parentName:"ul"},"-Z, --selinux-user SEUSER use a specific SEUSER for the SELinux user mapping")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"useradd -s bash -m testUser\npasswd testUser # modify `/etc/passwd`, then add to `/etc/sudoers`\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"adduser")," is a perl script which uses ",(0,i.kt)("inlineCode",{parentName:"p"},"useradd")," binary in back-end,\n",(0,i.kt)("inlineCode",{parentName:"p"},"adduser")," is more user friendly and interactive."),(0,i.kt)("h4",{id:"\u4fee\u6539\u7528\u6237"},"\u4fee\u6539\u7528\u6237"),(0,i.kt)("p",null,"usermod -d /home/test -G test2 test"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"-l \u65b0\u7528\u6237\u540d \u65e7\u7528\u6237\u540d \u4fee\u6539\u7528\u6237\u540d"),(0,i.kt)("li",{parentName:"ul"},"-g \u65b0\u7528\u6237\u7ec4 \u76ee\u6807\u7528\u6237 \u6539\u53d8\u7528\u6237\u6240\u5c5e\u7ec4")),(0,i.kt)("p",null,"gpasswd -a test test2 \u5c06\u7528\u6237 test \u52a0\u5165\u5230 test2 \u7ec4(\u9644\u8bbe\u7ec4)"),(0,i.kt)("p",null,"gpasswd -d test test2 \u5c06\u7528\u6237 test \u4ece test2 \u7ec4\u4e2d\u79fb\u51fa"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"usermod -aG sudo <username>\n")),(0,i.kt)("h4",{id:"\u5220\u9664\u7528\u6237"},"\u5220\u9664\u7528\u6237"),(0,i.kt)("p",null,"userdel test -r \u540c\u65f6\u5220\u9664\u7528\u6237\u767b\u5f55\u76ee\u5f55(/home/xxx)"),(0,i.kt)("h4",{id:"\u67e5\u770b\u7528\u6237"},"\u67e5\u770b\u7528\u6237"),(0,i.kt)("p",null,"w/who \u67e5\u770b\u5f53\u524d\u767b\u5f55\u7684\u6240\u6709\u7528\u6237"),(0,i.kt)("p",null,"whoami \u67e5\u770b\u5f53\u524d\u767b\u5f55\u7528\u6237\u540d"),(0,i.kt)("p",null,"finger apacheUser \u67e5\u770b\u5355\u4e2a\u7528\u6237\u4fe1\u606f"),(0,i.kt)("h4",{id:"\u9650\u5236\u7528\u6237"},"\u9650\u5236\u7528\u6237"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"passwd -l \u7528\u6237\u540d \u9501\u5b9a\u7528\u6237"),(0,i.kt)("li",{parentName:"ul"},"passwd -u \u7528\u6237\u540d \u89e3\u9501\u7528\u6237"),(0,i.kt)("li",{parentName:"ul"},"passwd -d \u7528\u6237\u540d \u6e05\u9664\u7528\u6237\u5bc6\u7801")),(0,i.kt)("h2",{id:"privilege-management-commands"},"Privilege Management Commands"),(0,i.kt)("h3",{id:"common-privilege-management"},"Common Privilege Management"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"chown \u7528\u6237\u540d\uff1a\u7ec4\u540d \u6587\u4ef6\u540d"),(0,i.kt)("li",{parentName:"ul"},"chgrp \u7ec4\u540d \u6587\u4ef6\u540d"),(0,i.kt)("li",{parentName:"ul"},"umask \u5b58\u50a8\u4f4d\u7f6e \u2014\u2014/etc/profile"),(0,i.kt)("li",{parentName:"ul"},"\u6587\u4ef6\u9ed8\u8ba4\u6743\u9650 = \u6587\u4ef6\u9ed8\u8ba4\u6700\u5927\u6743\u9650 rw-(666) \u51cf\u53bb umask \u503c(\u5982----w--w-)(022)"),(0,i.kt)("li",{parentName:"ul"},"\u76ee\u5f55\u9ed8\u8ba4\u6743\u9650 = \u76ee\u5f55\u9ed8\u8ba4\u6700\u5927\u6743\u9650 rwx(777) \u51cf\u53bb umask \u503c"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"id <username>"))),(0,i.kt)("h3",{id:"acl-privilege-management"},"ACL Privilege Management"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u67e5\u770b\u5206\u533a ACL \u6743\u9650\u662f\u5426\u5f00\u542f dumpe2fs -h \u8bbe\u5907\u5206\u533a\u540d")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u4e34\u65f6\u5f00\u542f\u5206\u533a ACL \u6743\u9650 mount -o remount,acl \u8bbe\u5907\u5206\u533a\u540d")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u6c38\u4e45\u5f00\u542f\u5206\u533a ACL \u6743\u9650 /etc/fstab")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"setfacl -m (d:\u9ed8\u8ba4\u6743\u9650) u/g:\u7528\u6237\u540d/\u7ec4\u540d:\u6743\u9650(rwx) \u6587\u4ef6\u540d")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"getfacl \u6587\u4ef6\u540d\u2014\u2014\u67e5\u770b\u6587\u4ef6 ACL \u6743\u9650"))),(0,i.kt)("h3",{id:"sudo-privilege-management"},"Sudo Privilege Management"),(0,i.kt)("p",null,"/etc/sudoers.tmp"),(0,i.kt)("h3",{id:"setuid-and-setgid"},"SetUID and SetGID"),(0,i.kt)("p",null,"\u53ef\u6267\u884c\u7a0b\u5e8f/\u76ee\u5f55+\u666e\u901a\u7528\u6237\u4e34\u65f6\u83b7\u5f97 root \u6743\u9650 \uff08rws\uff09:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"chmod 0xxx \u53d6\u6d88\u53cc\u6743\u9650"),(0,i.kt)("li",{parentName:"ul"},"chmod 2xxx \u8bbe\u7f6e SetGID \u6743\u9650"),(0,i.kt)("li",{parentName:"ul"},"chmod 4xxx \u8bbe\u7f6e SetUID \u6743\u9650"),(0,i.kt)("li",{parentName:"ul"},"chmod 6xxx \u8bbe\u7f6e\u53cc\u6743\u9650")),(0,i.kt)("h2",{id:"disk-io-commands"},"Disk IO Commands"),(0,i.kt)("p",null,"\u4e3b\u5206\u533a(primary)\u4e0e\u5ef6\u4f38\u5206\u533a(extended) \u5ef6\u4f38\u5206\u533a\u53ef\u4ee5\u7ee7\u7eed\u5212\u5206\u6210\u903b\u8f91\u5206\u533a(logical)"),(0,i.kt)("h3",{id:"\u6302\u8f7d\u547d\u4ee4"},"\u6302\u8f7d\u547d\u4ee4"),(0,i.kt)("p",null,"mount ","[-t \u6587\u4ef6\u7cfb\u7edf][-o \u7279\u6b8a\u9009\u9879]"," \u8bbe\u5907\u6587\u4ef6\u540d \u6302\u8f7d\u70b9(\u6302\u8f7d\u76ee\u5f55/media /misc /mnt)"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u65e0\u53c2\u6570 \u663e\u793a\u5f53\u524d\u6302\u8f7d\u8bbe\u5907"),(0,i.kt)("li",{parentName:"ul"},"-a \u4f9d\u636e/etc/fstab \u6587\u4ef6\u914d\u7f6e,\u81ea\u52a8\u6302\u8f7d")),(0,i.kt)("p",null,"umount \u8bbe\u5907\u6587\u4ef6\u540d/\u6302\u8f7d\u70b9"),(0,i.kt)("p",null,"fdisk \u2013l"),(0,i.kt)("h3",{id:"\u4fee\u590d\u547d\u4ee4"},"\u4fee\u590d\u547d\u4ee4"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo debugfs /dev/sda9\n> debugfs: lsdel\n")),(0,i.kt)("h3",{id:"\u5206\u533a\u547d\u4ee4"},"\u5206\u533a\u547d\u4ee4"),(0,i.kt)("h4",{id:"fdisk"},"fdisk"),(0,i.kt)("p",null,"\u5206\u533a\u8868\u7c7b\u578b MBR"),(0,i.kt)("p",null,"n p e l \u65b0 \u4e3b \u903b\u8f91 \u6269\u5c55 \u5206\u533a w \u6fc0\u6d3b"),(0,i.kt)("h4",{id:"parted"},"parted"),(0,i.kt)("p",null,"\u5206\u533a\u8868\u7c7b\u578b MBR/GPT"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"mklabel \u9009\u62e9\u5206\u533a\u8868\u7c7b\u578b"),(0,i.kt)("li",{parentName:"ul"},"print \u6253\u5370\u5206\u533a\u4fe1\u606f"),(0,i.kt)("li",{parentName:"ul"},"mkpart \u65b0\u5efa\u5206\u533a"),(0,i.kt)("li",{parentName:"ul"},"rm \u5220\u9664\u5206\u533a"),(0,i.kt)("li",{parentName:"ul"},"unit \u9009\u62e9\u5355\u4f4d"),(0,i.kt)("li",{parentName:"ul"},"quit \u7ed3\u675f\u5206\u533a")),(0,i.kt)("h3",{id:"zero-copy"},"Zero Copy"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"read")," + ",(0,i.kt)("inlineCode",{parentName:"li"},"write"),": 4 context switch, 4 data copy (2 DMA, 2 CPU)."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mmap")," + ",(0,i.kt)("inlineCode",{parentName:"li"},"write"),": 4 context switch, 3 data copy (2 DMA, 1 CPU)."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"sendfile"),": 2 context switch, 3 data copy (2 DMA, 1 CPU)."),(0,i.kt)("li",{parentName:"ul"},"scatter and gather ",(0,i.kt)("inlineCode",{parentName:"li"},"sendfile"),": 2 context switch, 2 data copy (1 DMA, 1 SG-DMA)."),(0,i.kt)("li",{parentName:"ul"},"\u4f20\u8f93\u5927\u6587\u4ef6 (\u65e0\u6cd5\u547d\u4e2d\u5185\u6838 PageCache) \u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"li"},"\u5f02\u6b65 I/O")," + ",(0,i.kt)("inlineCode",{parentName:"li"},"\u76f4\u63a5 I/O"),",\n\u4f20\u8f93\u5c0f\u6587\u4ef6\u4f7f\u7528 Zero Copy.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-nginx"},"location /video/ {\n    sendfile on;\n    aio on;\n    directio 1024m;\n}\n")),(0,i.kt)("h2",{id:"device-management-commands"},"Device Management Commands"),(0,i.kt)("h3",{id:"host-system-info-commands"},"Host System Info Commands"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'#!/bin/bash\n\n# Simple print cpu topology\n\n# numactl --hardware\n# ls /sys/devices/system/node/node0\n# lscpu\n\nfunction get_nr_processor()\n{\n    grep \'^processor\' /proc/cpuinfo | wc -l\n}\n\nfunction get_nr_socket()\n{\n    grep \'physical id\' /proc/cpuinfo | awk -F: \'{\n            print $2 | "sort -un"}\' | wc -l\n}\n\nfunction get_nr_siblings()\n{\n    grep \'siblings\' /proc/cpuinfo | awk -F: \'{\n            print $2 | "sort -un"}\'\n}\n\nfunction get_nr_cores_of_socket()\n{\n    grep \'cpu cores\' /proc/cpuinfo | awk -F: \'{\n            print $2 | "sort -un"}\'\n}\n\necho \'===== CPU Topology Table =====\'\necho\n\necho \'+--------------+---------+-----------+\'\necho \'| Processor ID | Core ID | Socket ID |\'\necho \'+--------------+---------+-----------+\'\n\nwhile read line; do\n    if [ -z "$line" ]; then\n        printf \'| %-12s | %-7s | %-9s |\\n\' $p_id $c_id $s_id\n        echo \'+--------------+---------+-----------+\'\n        continue\n    fi\n\n    if echo "$line" | grep -q "^processor"; then\n        p_id=`echo "$line" | awk -F: \'{print $2}\' | tr -d \' \'`\n    fi\n\n    if echo "$line" | grep -q "^core id"; then\n        c_id=`echo "$line" | awk -F: \'{print $2}\' | tr -d \' \'`\n    fi\n\n    if echo "$line" | grep -q "^physical id"; then\n        s_id=`echo "$line" | awk -F: \'{print $2}\' | tr -d \' \'`\n    fi\ndone < /proc/cpuinfo\n\necho\n\nawk -F: \'{\n    if ($1 ~ /processor/) {\n        gsub(/ /,"",$2);\n        p_id=$2;\n    } else if ($1 ~ /physical id/){\n        gsub(/ /,"",$2);\n        s_id=$2;\n        arr[s_id]=arr[s_id] " " p_id\n    }\n}\n\nEND{\n    for (i in arr)\n        printf "Socket %s:%s\\n", i, arr[i];\n}\' /proc/cpuinfo\n\necho\necho \'===== CPU Info Summary =====\'\necho\n\nnr_processor=`get_nr_processor`\necho "Logical processors: $nr_processor"\n\nnr_socket=`get_nr_socket`\necho "Physical socket: $nr_socket"\n\nnr_siblings=`get_nr_siblings`\necho "Siblings in one socket: $nr_siblings"\n\nnr_cores=`get_nr_cores_of_socket`\necho "Cores in one socket: $nr_cores"\n\nlet nr_cores*=nr_socket\necho "Cores in total: $nr_cores"\n\nif [ "$nr_cores" = "$nr_processor" ]; then\n    echo "Hyper-Threading: off"\nelse\n    echo "Hyper-Threading: on"\nfi\n\necho\necho \'===== END =====\'\n')),(0,i.kt)("h3",{id:"screen-monitor-commands"},"Screen Monitor Commands"),(0,i.kt)("h4",{id:"xrandr"},"xrandr"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"xrandr -s 1920x1800 # set resolution\n")),(0,i.kt)("h4",{id:"monitor-info"},"Monitor Info"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get install read-edid\nsudo get-edid | parse-edid\n")),(0,i.kt)("h3",{id:"touch-pad-synoptics"},"Touch Pad Synoptics"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"synclient TouchpadOff=0\n")),(0,i.kt)("h2",{id:"package-manager-commands"},"Package Manager Commands"),(0,i.kt)("h3",{id:"rpm-commands"},"RPM Commands"),(0,i.kt)("p",null,"\u5b89\u88c5\u548c\u5378\u8f7d\u65f6\u540c\u65f6\u5b58\u5728\u4f9d\u8d56\u6027(\u5305\u4f9d\u8d56\u3001\u5e93\u4f9d\u8d56)"),(0,i.kt)("p",null,"rpm \u67e5\u8be2:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"-q \u5305\u540d \u67e5\u8be2\u5df2\u5b89\u88c5\u7684\u5305 //\u5fc5\u5907\u53c2\u6570"),(0,i.kt)("li",{parentName:"ul"},"-a \u67e5\u8be2\u6240\u6709\u5df2\u5b89\u88c5\u7684\u5305"),(0,i.kt)("li",{parentName:"ul"},"-i \u67e5\u8be2\u8f6f\u4ef6\u4fe1\u606f"),(0,i.kt)("li",{parentName:"ul"},"-l list"),(0,i.kt)("li",{parentName:"ul"},"-f \u67e5\u8be2\u7cfb\u7edf\u6587\u4ef6\u5c5e\u4e8e\u54ea\u4e2a\u8f6f\u4ef6\u5305"),(0,i.kt)("li",{parentName:"ul"},"-R \u67e5\u8be2\u8f6f\u4ef6\u5305\u7684\u4f9d\u8d56\u6027"),(0,i.kt)("li",{parentName:"ul"},"-p \u67e5\u8be2\u672a\u5b89\u88c5\u5305 //\u666e\u9002\u53c2\u6570")),(0,i.kt)("p",null,"rpm \u6821\u9a8c(\u67e5\u770b Cracker \u4fe1\u606f):"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"-V \u6821\u9a8c\u5df2\u5b89\u88c5\u5305 \u76f8\u5e94\u4fe1\u606f\u4e0d\u662f.\u53f7\u4fbf\u662f\u88ab\u4fee\u6539\u9879 \u53ef\u7528\u4e8e\u627e\u56de\u4e22\u5931\u7684\u7cfb\u7edf\u547d\u4ee4")),(0,i.kt)("h3",{id:"yum-commands"},"YUM Commands"),(0,i.kt)("p",null,"\u6e90\u914d\u7f6e\u6587\u4ef6:/etc/yum.repos.d"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"cd /etc/yum.repos.d\nmv CentOS-Base.repo CentOS-Base.repo.bk\nwget http://mirrors.163.com/.help/CentOS7-Base-163.repo\nyum makecache\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"yum list"),(0,i.kt)("li",{parentName:"ul"},"yum search 'keyword'"),(0,i.kt)("li",{parentName:"ul"},"yum -y(\u81ea\u52a8\u56de\u7b54 yes) install \u5305\u540d"),(0,i.kt)("li",{parentName:"ul"},"yum -y update \u5305\u540d"),(0,i.kt)("li",{parentName:"ul"},"yum -y remove \u5305\u540d"),(0,i.kt)("li",{parentName:"ul"},"yum grouplist"),(0,i.kt)("li",{parentName:"ul"},"yum groupinstall \u8f6f\u4ef6\u7ec4\u540d"),(0,i.kt)("li",{parentName:"ul"},"yum groupremove \u8f6f\u4ef6\u7ec4\u540d")),(0,i.kt)("h3",{id:"source-code-installation"},"Source Code Installation"),(0,i.kt)("p",null,"\u6307\u5b9a\u4f4d\u7f6e:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"/usr/local/\u8f6f\u4ef6\u540d/"),(0,i.kt)("li",{parentName:"ul"},"/usr/local/src/\u8f6f\u4ef6\u540d/")),(0,i.kt)("p",null,"(\u5982\u4e0a\u8ff0\u811a\u672c\u51fa\u9519\uff0c\u6267\u884c make clean\uff09"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"make install\n")),(0,i.kt)("p",null,"e.g apache /var/www/html/index.html /usr/local/apache/htdocs/index.html"),(0,i.kt)("h3",{id:"applications-management-commands"},"Applications Management Commands"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"desktop shortcut: ",(0,i.kt)("inlineCode",{parentName:"li"},"/usr/share/applications")),(0,i.kt)("li",{parentName:"ul"},"startup apps: ",(0,i.kt)("inlineCode",{parentName:"li"},"gnome-session-properties")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"gnome-tweaks"))),(0,i.kt)("h3",{id:"default-management-commands"},"Default Management Commands"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"update-alternatives"),": maintain symbolic links determining default commands."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo update-alternatives --get-selections\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo update-alternatives --install /usr/bin/x-terminal-emulator\n \\ x-terminal-emulator /opt/Hyper/hyper 50\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo update-alternatives --config x-terminal-emulator\n")),(0,i.kt)("h3",{id:"apt-key-commands"},"APT Key Commands"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# Add key\nsudo apt-add-repository ppa:user/repo\nsudo apt update\n\n# Delete key via last 8 bits\nsudo apt-key list\nsudo apt-key del 73C62A18\nsudo apt update\n")),(0,i.kt)("h2",{id:"network-commands"},"Network Commands"),(0,i.kt)("h3",{id:"wget"},"wget"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u4e0b\u8f7d\u5168\u7ad9\u8d44\u6599"),(0,i.kt)("li",{parentName:"ul"},"-P \u8868\u793a\u4e0b\u8f7d\u5230\u54ea\u4e2a\u76ee\u5f55"),(0,i.kt)("li",{parentName:"ul"},"-r \u8868\u793a\u9012\u5f52\u4e0b\u8f7d"),(0,i.kt)("li",{parentName:"ul"},"-np \u8868\u793a\u4e0d\u4e0b\u8f7d\u65c1\u7ad9\u8fde\u63a5."),(0,i.kt)("li",{parentName:"ul"},"-k \u8868\u793a\u5c06\u4e0b\u8f7d\u7684\u7f51\u9875\u91cc\u7684\u94fe\u63a5\u4fee\u6539\u4e3a\u672c\u5730\u94fe\u63a5."),(0,i.kt)("li",{parentName:"ul"},"-p \u83b7\u5f97\u6240\u6709\u663e\u793a\u7f51\u9875\u6240\u9700\u7684\u5143\u7d20")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"wget -r -p -np -k -P ~/tmp/ http://java-er.com\n")),(0,i.kt)("h3",{id:"certificate-bot"},"Certificate Bot"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/certbot/certbot"},"CertBot"),"\nfor SSL certificates."),(0,i.kt)("h3",{id:"gfw"},"GFW"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/racaljk/hosts"},"Hosts")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/breakwa11/shadowsocks-rss"},"RSS")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/shadowsocks/ChinaDNS-Python"},"ChinaDNS")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/rofl0r/proxychains-ng"},"ProxyChains")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/OpenVPN/openvpn"},"OpenVPN")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/waylau/vpngate-mirrors"},"VPNGate")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/hwdsl2/docker-ipsec-vpn-server"},"DockerVPN"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'yum install python-setuptools && easy_install pip\npip install shadowsocks\necho "nohup sslocal -c /etc/shadowsocks.json /dev/null 2>&1 &" /etc/rc.local\nnohup ssserver -c /etc/shadowsocks.json -d start /dev/null 2>&1 &\n')),(0,i.kt)("h3",{id:"network-management-commands"},"NetWork Management Commands"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"\u7528\u9014"),(0,i.kt)("th",{parentName:"tr",align:"left"},"net-tool(\u88ab\u6dd8\u6c70)"),(0,i.kt)("th",{parentName:"tr",align:"left"},"iproute2"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"\u5730\u5740\u548c\u94fe\u8def\u914d\u7f6e"),(0,i.kt)("td",{parentName:"tr",align:"left"},"ifconfig"),(0,i.kt)("td",{parentName:"tr",align:"left"},"ip addr, ip link")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"\u8def\u7531\u8868"),(0,i.kt)("td",{parentName:"tr",align:"left"},"route"),(0,i.kt)("td",{parentName:"tr",align:"left"},"ip route")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"\u90bb\u5c45"),(0,i.kt)("td",{parentName:"tr",align:"left"},"arp"),(0,i.kt)("td",{parentName:"tr",align:"left"},"ip neigh")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"VLAN"),(0,i.kt)("td",{parentName:"tr",align:"left"},"vconfig"),(0,i.kt)("td",{parentName:"tr",align:"left"},"ip link")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"\u96a7\u9053"),(0,i.kt)("td",{parentName:"tr",align:"left"},"iptunnel"),(0,i.kt)("td",{parentName:"tr",align:"left"},"ip tunnel")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"\u7ec4\u64ad"),(0,i.kt)("td",{parentName:"tr",align:"left"},"ipmaddr"),(0,i.kt)("td",{parentName:"tr",align:"left"},"ip maddr")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"\u7edf\u8ba1"),(0,i.kt)("td",{parentName:"tr",align:"left"},"netstat"),(0,i.kt)("td",{parentName:"tr",align:"left"},"ss")))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'ip link show\nip address show\nip route show\n\n# add commands to /etc/init.d/local.sh\n\nrm -fr /etc/udev/rules.d/70-persistent-net.rules\n\n# start up network adapter\nip link set eth0 up\n\n# add/delete static ip\nip address add 192.168.1.1/24 dev eth0\nip address del 192.168.1.1/24 dev eth0\n\n# add/delete static route\nip route add 192.168.1.0/24 dev eth0\nip route del 192.168.1.0/24 dev eth0\nip route add default via 192.168.0.196\n\n# watch packets\nwatch -n 1 "ifconfig eth0"\nwatch -n 1 "ifconfig eth1"\nwatch -n 1 "ifconfig eth2"\n')),(0,i.kt)("h3",{id:"ufw"},"ufw"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"ufw status\nufw enable\nufw allow ssh\nufw allow http\nufw allow https\n")),(0,i.kt)("h3",{id:"arp"},"arp"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"arp -a"),"\u663e\u793a\u5730\u5740\u89e3\u6790\u534f\u8bae (IP \u5730\u5740\u2014\u7f51\u5361\u5730\u5740):"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u7f51\u9645\u4e92\u8054\u5c42\uff1aIP \u534f\u8bae(\u7f51\u9645)\u3001IGMP \u534f\u8bae(\u4e92\u8054\u7f51\u7ec4\u7ba1\u7406)\u3001ICMP \u534f\u8bae(\u4e92\u8054\u7f51\u63a7\u5236\u62a5\u6587)"),(0,i.kt)("li",{parentName:"ul"},"\u4f20\u8f93\u5c42\uff1aTCP \u534f\u8bae(\u4f20\u8f93\u63a7\u5236)\u3001UDP \u534f\u8bae(\u7528\u6237\u6570\u636e\u62a5)")),(0,i.kt)("h3",{id:"netstat"},"netstat"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"netstat -an"),"\u67e5\u770b\u672c\u673a\u542f\u7528\u7684\u7aef\u53e3:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"(-a \u67e5\u770b\u6240\u6709\u8fde\u63a5\u548c\u76d1\u542c\u7aef\u53e3 -n \u663e\u793a IP \u5730\u5740\u548c\u7aef\u53e3\u53f7)"),(0,i.kt)("li",{parentName:"ul"},"-t tcp \u534f\u8bae\u7aef\u53e3"),(0,i.kt)("li",{parentName:"ul"},"-u udp \u534f\u8bae\u7aef\u53e3"),(0,i.kt)("li",{parentName:"ul"},"-l \u76d1\u542c\u72b6\u6001\u670d\u52a1")),(0,i.kt)("h3",{id:"nslookup"},"nslookup"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"nslookup domain_name"),"\u67e5\u770b DNS \u89e3\u6790\u5668:"),(0,i.kt)("p",null,"/etc/network/interfaces"),(0,i.kt)("p",null,"\u4e3b\u673a\u540d:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"/etc/hostname"),(0,i.kt)("li",{parentName:"ul"},"/etc/sysconfig/network"),(0,i.kt)("li",{parentName:"ul"},"/etc/resolv.conf")),(0,i.kt)("h3",{id:"ping"},"ping"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"ping -c ip/domain"),"\u63a2\u6d4b\u7f51\u7edc\u72b6\u51b5"),(0,i.kt)("h3",{id:"telnet"},"telnet"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"telnet [ip/domain] [\u7aef\u53e3]"),"\u8fdc\u7a0b\u7ba1\u7406\u4e0e\u7aef\u53e3\u63a2\u6d4b\u547d\u4ee4"),(0,i.kt)("h3",{id:"trace-route"},"Trace Route"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"traceroute [-n IP] domain"),"\u8def\u7531\u8ddf\u8e2a\u547d\u4ee4"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"traceroute -n -I -T -p"),"\u8def\u7531\u626b\u63cf")),(0,i.kt)("h3",{id:"net-filter-framework"},"Net Filter Framework"),(0,i.kt)("p",null,"nftables \u547d\u4ee4\u884c\u5de5\u5177\uff1anft"),(0,i.kt)("h3",{id:"fping"},"fping"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"fping -a -u -g -f [target]"),"\u6279\u91cf\u626b\u63cf\u4e3b\u673a\u5730\u5740"),(0,i.kt)("h3",{id:"hping"},"hping"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"hping -p -S -a"),"\u53ef\u4f2a\u9020 IP \u5730\u5740"),(0,i.kt)("h3",{id:"mtr"},"mtr"),(0,i.kt)("p",null,"\u8def\u7531\u626b\u63cf"),(0,i.kt)("h3",{id:"nmap"},"nmap"),(0,i.kt)("p",null,"\u6279\u91cf\u4e3b\u673a\u670d\u52a1\u626b\u63cf:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"-P ICMP"),(0,i.kt)("li",{parentName:"ul"},"-sS TCP SYN"),(0,i.kt)("li",{parentName:"ul"},"-sT TCP connect()"),(0,i.kt)("li",{parentName:"ul"},"-sU UDP")),(0,i.kt)("h3",{id:"ncat"},"ncat"),(0,i.kt)("p",null,"\u6279\u91cf\u4e3b\u673a\u670d\u52a1\u626b\u63cf:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"-w \u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4"),(0,i.kt)("li",{parentName:"ul"},"-v \u663e\u793a\u547d\u4ee4\u6267\u884c\u8fc7\u7a0b"),(0,i.kt)("li",{parentName:"ul"},"-z \u4e00\u4e2a\u8f93\u5165\u8f93\u51fa\u6a21\u5f0f"),(0,i.kt)("li",{parentName:"ul"},"-u UDP \u534f\u8bae")),(0,i.kt)("h2",{id:"shell-execution-commands"},"Shell Execution Commands"),(0,i.kt)("p",null,"exec 1>>output.log\nexec 2>>error.log"),(0,i.kt)("h3",{id:"systemctl"},"Systemctl"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"systemctl enable local\n")),(0,i.kt)("p",null,"in ",(0,i.kt)("inlineCode",{parentName:"p"},"/etc/init.d/local")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"#!/bin/bash\n### BEGIN INIT INFO\n# Provides:          local\n# Required-Start:    $all\n# Required-Stop:\n# Default-Start:     3 4 5\n# Default-Stop:\n# Short-Description: Personal start script\n\nsslocal -c shadowsocks.json -d start\n")),(0,i.kt)("p",null,"\u5185\u5b58\u63a7\u5236"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sysctl vm [-options] CONFIG\nswapoff\n")),(0,i.kt)("h3",{id:"crontab-commands"},"Crontab Commands"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/etc/crontab")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/crontab.html"},"Crontab Quick Tutorial")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://crontab.guru"},"Crontab Generator"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"crontab -l(list)\ncrontab -e(establish)\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"m,n"),": \u5206\u9694\u591a\u4e2a\u65f6\u95f4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"m-n"),": \u8868\u793a\u65f6\u95f4\u8303\u56f4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/n"),": \u8868\u793a\u6bcf\u9694 n \u65f6\u95f4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"\u5929\u6570"),"\u4e0e",(0,i.kt)("inlineCode",{parentName:"li"},"\u661f\u671f"),"\u4e4b\u95f4\u4e3a",(0,i.kt)("inlineCode",{parentName:"li"},"\u903b\u8f91\u6216"),"\u5173\u7cfb."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/var/spool/cron/user_name/"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/var/log/con"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/etc/cron.*ly"),": \u65f6\u95f4\u8868."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/etc/anacrontab"),": \u5f02\u6b65\u65f6\u95f4\u8868.")),(0,i.kt)("h3",{id:"background-job-commands"},"Background Job Commands"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"jobs \u2014\u2014 \u6240\u6709\u4f5c\u4e1a")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"atq \u2014\u2014 \u5ef6\u65f6\u4f5c\u4e1a\u961f\u5217")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"at -M(\u4e0d\u4f7f\u7528\u90ae\u4ef6\u53d1\u9001\u8fd0\u884c\u7ed3\u679c) -f filename deltaTime")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"atrm \u4f5c\u4e1a\u53f7/\u540d")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"bg/fg \u4f5c\u4e1a\u53f7/\u540d")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"nohup \u811a\u672c & \u2014\u2014 \u8131\u79bb\u63a7\u5236\u53f0\u5e76\u540e\u53f0\u8fd0\u884c\u811a\u672c"))),(0,i.kt)("p",null,"19 ~ -20 \uff08-20 \u4f18\u5148\u7ea7\u6700\u9ad8\uff09"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"nice -n number \u4f5c\u4e1a\u53f7/\u540d"),(0,i.kt)("li",{parentName:"ul"},"renice number -p PID")),(0,i.kt)("h3",{id:"startup-job-commands"},"Startup Job Commands"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"/etc/rc.local \u2014\u2014 \u7cfb\u7edf\u5f00\u673a\u4efb\u52a1"),(0,i.kt)("li",{parentName:"ul"},"/etc/profile/ /etc/bash.bashrc \u2014\u2014 bash \u542f\u52a8\u4efb\u52a1/\u8fdc\u7a0b\u767b\u9646\u4efb\u52a1"),(0,i.kt)("li",{parentName:"ul"},"/etc/bash.bashrc \u2014\u2014 SSH \u8fde\u63a5\u4efb\u52a1")),(0,i.kt)("h3",{id:"parallel-execution"},"Parallel Execution"),(0,i.kt)("p",null,"\u547d\u4ee4\u95f4\u63d2\u5165\u7b26"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"command1;command2 \u987a\u5e8f\u6267\u884c\uff0c\u76f8\u5f53\u4e8e C \u8bed\u8a00\u4e2d\u8bed\u53e5\u7ed3\u675f\u7b26"),(0,i.kt)("li",{parentName:"ul"},"command1&&command2 \u547d\u4ee4\u540c\u65f6\u6267\u884c(\u5f53 1 \u6b63\u786e\u65f6)\u6216\u540c\u65f6\u4e0d\u6267\u884c(\u5f53 1 \u51fa\u9519\u65f6)"),(0,i.kt)("li",{parentName:"ul"},"command1 || command2 \u53ea\u6267\u884c\u4e00\u4e2a\u547d\u4ee4(\u6b63\u786e\u547d\u4ee4)"),(0,i.kt)("li",{parentName:"ul"},"command1 | command2 \u524d\u4e00\u6b63\u786e\u547d\u4ee4\u7684\u8f93\u51fa\u7ed3\u679c\u4f5c\u4e3a\u540e\u4e00\u547d\u4ee4\u7684\u8f93\u5165\u7ed3\u679c")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"e.g ls && echo yes >> .log || echo no >> .log")),(0,i.kt)("h2",{id:"cc-binary-commands"},"C/C++ Binary Commands"),(0,i.kt)("h3",{id:"ldd"},"ldd"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"ldd ./lib.sio\n")),(0,i.kt)("h3",{id:"nm"},"nm"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"nm -Ca ./lib.so\n")),(0,i.kt)("h2",{id:"plot-commands"},"Plot Commands"),(0,i.kt)("p",null,"chart.gp"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"#!/usr/bin/env gnuplot\n\nset term wxt enhanced\nset xtics\nset view\nset multiplot\nset size\nset origin\nfit\n\nplot 'data.dat' using 1:2, 'data.dat' using 1:3\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'#!/usr/bin/gnuplot -c\n\nset terminal png enhanced\nset output ARG1.".png"\nset style data linespoints\nshow timestamp\nset title ARG1\nset xlabel "time (seconds)"\nset ylabel "Segments (cwnd, ssthresh)"\nplot ARG1 using 1:7 title "snd_cwnd", \\\n     ARG1 using 1:($8>=2147483647 ? 0 : $8) title "snd_ssthresh"\n')),(0,i.kt)("h2",{id:"other-commands"},"Other Commands"),(0,i.kt)("h3",{id:"time"},"Time"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"date\n")),(0,i.kt)("p",null,"change ntp (Network Time Protocol) time"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get install ntpdate\nsudo iptables -A OUTPUT -p udp --dport 123 -j ACCEPT\nsudo iptables -A INPUT -p udp --sport 123 -j ACCEPT\nsudo ntpdate time.windows.com\nsudo hwclock --localtime --systohc\n")),(0,i.kt)("p",null,"use local time (not UTC time)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo timedatectl set-local-rtc 1\n")),(0,i.kt)("h2",{id:"shell-scripts"},"Shell Scripts"),(0,i.kt)("h3",{id:"shell-warnings"},"Shell Warnings"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"=")," \u5de6\u53f3\u65e0\u7a7a\u683c."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"()")," ",(0,i.kt)("inlineCode",{parentName:"li"},"[]")," \u5185\u90e8\u6700\u597d\u6709\u7a7a\u683c."),(0,i.kt)("li",{parentName:"ul"},"\u6570\u503c\u8fd0\u7b97\u7528 ",(0,i.kt)("inlineCode",{parentName:"li"},"(())")," \u6216 ",(0,i.kt)("inlineCode",{parentName:"li"},"$(())"),".")),(0,i.kt)("h3",{id:"\u6587\u4ef6\u91cd\u5b9a\u5411"},"\u6587\u4ef6\u91cd\u5b9a\u5411"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"> \u6587\u4ef6\u8bbe\u5907\u540d"),": \u8986\u76d6\u6807\u51c6\u8f93\u51fa\u91cd\u5b9a\u5411."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},">> \u6587\u4ef6\u8bbe\u5907\u540d"),": \u8ffd\u52a0\u6807\u51c6\u8f93\u51fa\u91cd\u5b9a\u5411."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"2>\u6587\u4ef6\u8bbe\u5907\u540d"),": \u8986\u76d6\u9519\u8bef\u8f93\u51fa\u91cd\u5b9a\u5411."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"2>>\u6587\u4ef6\u8bbe\u5907\u540d"),": \u8ffd\u52a0\u9519\u8bef\u8f93\u51fa\u91cd\u5b9a\u5411."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},">/>> \u6587\u4ef6 2>&1 &>/&>>\u6587\u4ef6"),": \u8986\u76d6/\u8ffd\u52a0\u6b63\u786e\u8f93\u51fa\u4e0e\u9519\u8bef\u8f93\u51fa\u540c\u65f6\u91cd\u5b9a\u5411."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"< \u6587\u4ef6\u8bbe\u5907\u540d"),"/",(0,i.kt)("inlineCode",{parentName:"li"},"<< \u6587\u4ef6\u8bbe\u5907\u540d"),": \u8986\u76d6/\u8ffd\u52a0\u6807\u51c6\u8f93\u5165\u91cd\u5b9a\u5411.")),(0,i.kt)("h4",{id:"here-document"},"Here Document"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"command << END\n...\nEND\n\ncommand << EOF\n...\nEOF\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'#!/bin/bash\ngnuplot -persist <<EOF\nset data style linespoints\nshow timestamp\nset title "$1"\nset xlabel "time (seconds)"\nset ylabel "Segments (cwnd, ssthresh)"\nplot "$1" using 1:7 title "snd_cwnd", \\\\\n     "$1" using 1:($8>=2147483647 ? 0 : $8) title "snd_ssthresh"\nEOF\n')),(0,i.kt)("h3",{id:"\u53d8\u91cf"},"\u53d8\u91cf"),(0,i.kt)("h4",{id:"\u57fa\u672c\u53d8\u91cf"},"\u57fa\u672c\u53d8\u91cf"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"=")," : \u5de6\u53f3\u4e24\u7aef\u4e0d\u53ef\u6709\u7a7a\u683c."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"' '"),": \u5b8c\u5168\u6807\u51c6\u5b57\u7b26\u4e32."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'" "'),": \u683c\u5f0f\u5316\u5b57\u7b26\u4e32."),(0,i.kt)("li",{parentName:"ul"},"\u8c03\u7528\u53d8\u91cf\u503c\uff1a",(0,i.kt)("inlineCode",{parentName:"li"},"$\u53d8\u91cf\u540d"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"set"),"/",(0,i.kt)("inlineCode",{parentName:"li"},"unset"),": \u8bbe\u7f6e/\u53d6\u6d88\u53d8\u91cf.")),(0,i.kt)("h4",{id:"built-in-\u53d8\u91cf"},"built-in \u53d8\u91cf"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$*"),"/",(0,i.kt)("inlineCode",{parentName:"li"},"$@"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"argv[1], ..., argv[n]")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$0/$1/../$n"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"argv[0], ..., argv[n]")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$#"),": argc"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$?"),": exit code of last command")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'if [ "$?" -ne "0" ];then\n    echo "sorry, command execution failed!"\nfi\n')),(0,i.kt)("p",null,"\u6bcf\u6b21 ",(0,i.kt)("inlineCode",{parentName:"p"},"shift")," \u547d\u4ee4\u6267\u884c\u7684\u65f6\u5019,\n\u53d8\u91cf ",(0,i.kt)("inlineCode",{parentName:"p"},"$2")," \u7684\u503c\u4f1a\u79fb\u52a8\u5230\u53d8\u91cf ",(0,i.kt)("inlineCode",{parentName:"p"},"$1")," \u4e2d,\n\u53d8\u91cf ",(0,i.kt)("inlineCode",{parentName:"p"},"$3")," \u7684\u503c\u4f1a\u79fb\u52a8\u5230\u53d8\u91cf ",(0,i.kt)("inlineCode",{parentName:"p"},"$2")," \u4e2d.\n\u53d8\u91cf ",(0,i.kt)("inlineCode",{parentName:"p"},"$#")," \u7684\u503c\u4e5f\u4f1a\u76f8\u5e94\u7684\u51cf 1."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'#!/bin/bash\n# posit-param2: script to display all arguments\ncount=1\nwhile [[ $# -gt 0 ]]; do\n    echo "Argument $count = $1"\n    count=$((count + 1))\n    shift\ndone\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'usage () {\n    echo "$PROGNAME: usage: $PROGNAME [-f file | -i]"\n    return\n}\n# process command line options\ninteractive=\nfilename=\nwhile [[ -n $1 ]]; do\n    case $1 in\n    -f | --file)            shift\n                            filename=$1\n                            ;;\n    -i | --interactive)     interactive=1\n                            ;;\n    -h | --help)            usage\n                            exit\n                            ;;\n    *)                      usage >&2\n                            exit 1\n                            ;;\n    esac\n    shift\ndone\n')),(0,i.kt)("h4",{id:"\u73af\u5883\u53d8\u91cf"},"\u73af\u5883\u53d8\u91cf"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/etc/profile.d/*.sh"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"~/.bash_profile"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"~/.bashrc"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/etc/profile"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/etc/bash.bashrc"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/etc/issue"),": shell \u767b\u5f55\u4fe1\u606f."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"PS1")," \u73af\u5883\u53d8\u91cf: shell \u5934\u884c\u6253\u5370\u4fe1\u606f."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"PATH")," \u73af\u5883\u53d8\u91cf.")),(0,i.kt)("h5",{id:"environment-command"},"Environment Command"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"env"),": \u67e5\u770b\u73af\u5883\u53d8\u91cf."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"export \u53d8\u91cf\u540d=\u53d8\u91cf\u503c"),": \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"printenv"),".")),(0,i.kt)("h3",{id:"\u6570\u503c\u8fd0\u7b97"},"\u6570\u503c\u8fd0\u7b97"),(0,i.kt)("h4",{id:"declare-\u547d\u4ee4"},"declare \u547d\u4ee4"),(0,i.kt)("h3",{id:"bash-expansions"},"Bash Expansions"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$(())")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"$[]"),": arithmetic expansion")),(0,i.kt)("p",null,"\u4e00\u822c\u5730, \u5c06\u6570\u503c\u8fd0\u7b97\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"(())")," ",(0,i.kt)("inlineCode",{parentName:"p"},"[[]]")," \u6216 ",(0,i.kt)("inlineCode",{parentName:"p"},"$(())")," \u62ec\u8d77, \u53ef\u4ee5\u786e\u4fdd\u53d8\u91cf\u4e0d\u4f1a\u88ab\u8bc6\u522b\u4e3a string"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'read x\nread y\n\necho $((x + y))\necho $((a < b ? a : b))\n\nif ((a > b))\nthen\n    echo "a > b"\nfi\n\nif [[ a -gt b ]]\nthen\n    echo "a > b"\nfi\n\nif [ "$a" -gt "$b" ]\nthen\n    echo "a > b"\nfi\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[[ xxx ]]"),": condition"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"(( xxx ))"),": arithmetic condition")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"operator"),(0,i.kt)("th",{parentName:"tr",align:"left"},"function"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"! EXPRESSION"),(0,i.kt)("td",{parentName:"tr",align:"left"},"The EXPRESSION is false")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"-n STRING"),(0,i.kt)("td",{parentName:"tr",align:"left"},"The length of STRING is greater than zero")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"-z STRING"),(0,i.kt)("td",{parentName:"tr",align:"left"},"The length of STRING is zero (ie it is empty)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"STRING1 == STRING2"),(0,i.kt)("td",{parentName:"tr",align:"left"},"STRING1 is equal to STRING2")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"STRING1 != STRING2"),(0,i.kt)("td",{parentName:"tr",align:"left"},"STRING1 is not equal to STRING2")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"STRING1 > STRING2"),(0,i.kt)("td",{parentName:"tr",align:"left"},"STRING1 sorts after STRING2")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"STRING1 < STRING2"),(0,i.kt)("td",{parentName:"tr",align:"left"},"STRING1 sorts before STRING2")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"INTEGER1 -eq INTEGER2"),(0,i.kt)("td",{parentName:"tr",align:"left"},"INTEGER1 is numerically equal to INTEGER2")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"INTEGER1 -gt INTEGER2"),(0,i.kt)("td",{parentName:"tr",align:"left"},"INTEGER1 is numerically greater than INTEGER2")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"INTEGER1 -lt INTEGER2"),(0,i.kt)("td",{parentName:"tr",align:"left"},"INTEGER1 is numerically less than INTEGER2")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"-d FILE"),(0,i.kt)("td",{parentName:"tr",align:"left"},"FILE exists and is a directory")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"-e FILE"),(0,i.kt)("td",{parentName:"tr",align:"left"},"FILE exists")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"-r FILE"),(0,i.kt)("td",{parentName:"tr",align:"left"},"FILE exists and the read permission is granted")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"-s FILE"),(0,i.kt)("td",{parentName:"tr",align:"left"},"FILE exists and it's size is greater than zero")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"-w FILE"),(0,i.kt)("td",{parentName:"tr",align:"left"},"FILE exists and the write permission is granted")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"-x FILE"),(0,i.kt)("td",{parentName:"tr",align:"left"},"FILE exists and the execute permission is granted")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"AND -a &&")),(0,i.kt)("td",{parentName:"tr",align:"left"})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"OR -o \\|\\|")),(0,i.kt)("td",{parentName:"tr",align:"left"})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"NOT ! !")),(0,i.kt)("td",{parentName:"tr",align:"left"})))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"{}: group regexp")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"echo a{A{1,2},B{3,4}}b\naA1b aA2b aB3b aB4b\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"${}"),": string expansion",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"${parameter:-word}"),": \u82e5 parameter \u6ca1\u6709\u8bbe\u7f6e\uff08\u4f8b\u5982\uff0c\u4e0d\u5b58\u5728\uff09\u6216\u8005\u4e3a\u7a7a\uff0c\u5c55\u5f00\u7ed3\u679c\u662f word \u7684\u503c\u3002\n\u82e5 parameter \u4e0d\u4e3a\u7a7a\uff0c\u5219\u5c55\u5f00\u7ed3\u679c\u662f parameter \u7684\u503c"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"${parameter:+word}"),": \u82e5 parameter \u6ca1\u6709\u8bbe\u7f6e\u6216\u4e3a\u7a7a\uff0c\u5c55\u5f00\u7ed3\u679c\u4e3a\u7a7a\u3002\n\u82e5 parameter \u4e0d\u4e3a\u7a7a\uff0c \u5c55\u5f00\u7ed3\u679c\u662f word \u7684\u503c\u4f1a\u66ff\u6362\u6389 parameter \u7684\u503c"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"${parameter:=word}"),": \u82e5 parameter \u6ca1\u6709\u8bbe\u7f6e\u6216\u4e3a\u7a7a\uff0c\u5c55\u5f00\u7ed3\u679c\u662f word \u7684\u503c\u3002\n\u53e6\u5916\uff0cword \u7684\u503c\u4f1a\u8d4b\u503c\u7ed9 parameter\u3002\n\u82e5 parameter \u4e0d\u4e3a\u7a7a\uff0c\u5c55\u5f00\u7ed3\u679c\u662f parameter \u7684\u503c"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"${parameter:?word}"),": \u82e5 parameter \u6ca1\u6709\u8bbe\u7f6e\u6216\u4e3a\u7a7a\uff0c\u8fd9\u79cd\u5c55\u5f00\u5bfc\u81f4\u811a\u672c\u5e26\u6709\u9519\u8bef\u9000\u51fa\uff0c\n\u5e76\u4e14 word \u7684\u5185\u5bb9\u4f1a\u53d1\u9001\u5230\u6807\u51c6\u9519\u8bef\u3002\n\u82e5 parameter \u4e0d\u4e3a\u7a7a\uff0c \u5c55\u5f00\u7ed3\u679c\u662f parameter \u7684\u503c"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"${!prefix*}")," ",(0,i.kt)("inlineCode",{parentName:"li"},"${!prefix@}"),": \u8fd9\u79cd\u5c55\u5f00\u4f1a\u8fd4\u56de\u4ee5 prefix \u5f00\u5934\u7684\u5df2\u6709\u53d8\u91cf\u540d"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"${#parameter}"),": \u5c55\u5f00\u6210\u7531 parameter \u6240\u5305\u542b\u7684\u5b57\u7b26\u4e32\u7684\u957f\u5ea6"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"${parameter:offset}")," ",(0,i.kt)("inlineCode",{parentName:"li"},"${parameter:offset:length}"),": \u63d0\u53d6\u4e00\u90e8\u5206\u5b57\u7b26"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"${parameter,,}")," \u628a parameter \u7684\u503c\u5168\u90e8\u5c55\u5f00\u6210\u5c0f\u5199\u5b57\u6bcd"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"${parameter,}")," \u4ec5\u4ec5\u628a parameter \u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u5c55\u5f00\u6210\u5c0f\u5199\u5b57\u6bcd"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"${parameter^^}")," \u628a parameter \u7684\u503c\u5168\u90e8\u8f6c\u6362\u6210\u5927\u5199\u5b57\u6bcd"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"${parameter^}")," \u4ec5\u4ec5\u628a parameter \u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u8f6c\u6362\u6210\u5927\u5199\u5b57\u6bcd"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"${parameter#pattern}")," ",(0,i.kt)("inlineCode",{parentName:"li"},"${parameter##pattern}"),",\n",(0,i.kt)("inlineCode",{parentName:"li"},"${parameter%pattern}")," ",(0,i.kt)("inlineCode",{parentName:"li"},"${parameter%%pattern}"),": \u4ece parameter \u6240\u5305\u542b\u7684\u5b57\u7b26\u4e32\u4e2d\u6e05\u9664\u5f00\u5934/\u672b\u5c3e\u4e00\u90e8\u5206\u6587\u672c"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"${parameter/pattern/string}"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"${parameter//pattern/string}"),",\n",(0,i.kt)("inlineCode",{parentName:"li"},"${parameter/#pattern/string}"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"${parameter/%pattern/string}"),": replace")))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"foo=file.txt.zip\necho ${foo#*.}\ntxt.zip\necho ${foo##*.}\nzip\n\nfoo=file.txt.zip\necho ${foo%.*}\nfile.txt\necho ${foo%%.*}\nfile\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"foo=JPG.JPG\necho ${foo/JPG/jpg}\njpg.JPG\necho ${foo//JPG/jpg}\njpg.jpg\necho ${foo/#JPG/jpg}\njpg.JPG\necho ${foo/%JPG/jpg}\nJPG.jpg\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$()"),": command result."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'""'),": allow expansions string."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"''"),": disallow expansions string.")),(0,i.kt)("h3",{id:"\u6d41\u7a0b\u63a7\u5236\u8bed\u53e5"},"\u6d41\u7a0b\u63a7\u5236\u8bed\u53e5"),(0,i.kt)("h4",{id:"if-\u8bed\u53e5"},"if \u8bed\u53e5"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"if [[ \u6761\u4ef6\u5224\u65ad\u5f0f ]] ; then\n    \u7a0b\u5e8f\nfi\nif [[ \u6761\u4ef6\u5224\u65ad\u5f0f ]]\n    then\n        \u7a0b\u5e8f\n    else\n        \u7a0b\u5e8f\nfi\n\nif [[ \u6761\u4ef6\u5224\u65ad\u5f0f1 ]]\n    then\n        \u7a0b\u5e8f1\nelif [[ \u6761\u4ef6\u5224\u65ad\u5f0f2 ]]\n    then\n        \u7a0b\u5e8f2\n\u2026\u2026\nelse\n        \u7a0b\u5e8fn\nfi\n")),(0,i.kt)("h4",{id:"case-\u8bed\u53e5"},"case \u8bed\u53e5"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"case $\u53d8\u91cf\u540d in\n    \u201c\u503c1\u201d)\n            \u7a0b\u5e8f\n            ;;\n    \u201c\u503c2\u201d)\n            \u7a0b\u5e8f\n            ;;\n    *)\n            \u7a0b\u5e8f\n;;\nesac\n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"case pattern"),(0,i.kt)("th",{parentName:"tr",align:"left"},"function"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"a)")),(0,i.kt)("td",{parentName:"tr",align:"left"},'word equals "a"')),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"[[:alpha:]])")),(0,i.kt)("td",{parentName:"tr",align:"left"},"word is a single alphabetic character")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"???)")),(0,i.kt)("td",{parentName:"tr",align:"left"},"word is exactly three characters long")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"*.txt)")),(0,i.kt)("td",{parentName:"tr",align:"left"},"word ends with the characters \u201c.txt\u201d")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"*)")),(0,i.kt)("td",{parentName:"tr",align:"left"},"any value of word")))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'#!/bin/bash\n# case-menu: a menu driven system information program\nclear\necho "\nPlease Select:\n1. Display System Information\n2. Display Disk Space\n3. Display Home Space Utilization\n0. Quit\n"\nread -p "Enter selection [0-3] > "\ncase $REPLY in\n    0)  echo "Program terminated."\n        exit\n        ;;\n    1)  echo "Hostname: $HOSTNAME"\n        uptime\n        ;;\n    2)  df -h\n        ;;\n    3)  if [[ $(id -u) -eq 0 ]]; then\n            echo "Home Space Utilization (All Users)"\n            du -sh /home/*\n        else\n            echo "Home Space Utilization ($USER)"\n            du -sh $HOME\n        fi\n        ;;\n    *)  echo "Invalid entry" >&2\n        exit 1\n        ;;\nesac\n')),(0,i.kt)("p",null,"or case pattern"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'#!/bin/bash\n# case-menu: a menu driven system information program\nclear\necho "\nPlease Select:\nA. Display System Information\nB. Display Disk Space\nC. Display Home Space Utilization\nQ. Quit\n"\nread -p "Enter selection [A, B, C or Q] > "\ncase $REPLY in\nq|Q) echo "Program terminated."\n     exit\n     ;;\na|A) echo "Hostname: $HOSTNAME"\n     uptime\n     ;;\nb|B) df -h\n     ;;\nc|C) if [[ $(id -u) -eq 0 ]]; then\n         echo "Home Space Utilization (All Users)"\n         du -sh /home/*\n     else\n         echo "Home Space Utilization ($USER)"\n         du -sh $HOME\n     fi\n     ;;\n*)   echo "Invalid entry" >&2\n     exit 1\n     ;;\nesac\n')),(0,i.kt)("p",null,"fall through case pattern (",(0,i.kt)("inlineCode",{parentName:"p"},";;&"),")"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'#!/bin/bash\n# case4-2: test a character\nread -n 1 -p "Type a character > "\necho\ncase $REPLY in\n    [[:upper:]])    echo "\'$REPLY\' is upper case." ;;&\n    [[:lower:]])    echo "\'$REPLY\' is lower case." ;;&\n    [[:alpha:]])    echo "\'$REPLY\' is alphabetic." ;;&\n    [[:digit:]])    echo "\'$REPLY\' is a digit." ;;&\n    [[:graph:]])    echo "\'$REPLY\' is a visible character." ;;&\n    [[:punct:]])    echo "\'$REPLY\' is a punctuation symbol." ;;&\n    [[:space:]])    echo "\'$REPLY\' is a whitespace character." ;;&\n    [[:xdigit:]])   echo "\'$REPLY\' is a hexadecimal digit." ;;&\nesac\n')),(0,i.kt)("h4",{id:"for-\u8bed\u53e5"},"for \u8bed\u53e5"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"for \u53d8\u91cf in \u503c1 \u503c2 \u503c3 \u2026\u2026 \u503cn\n    do\n        \u7a0b\u5e8f\n    done\n\n$(seq 1 50)  # 1 2 ... 50\n{1..50}     # 1 2 ... 50\n{0..10..2}  # 0 2 4 6 8 10\n\nfor (( \u521d\u59cb\u503c;\u5faa\u73af\u63a7\u5236\u6761\u4ef6;\u53d8\u91cf\u53d8\u5316 )); do\n    \u7a0b\u5e8f\ndone\n")),(0,i.kt)("h4",{id:"while-\u8bed\u53e5\u4e0e-until-\u8bed\u53e5"},"while \u8bed\u53e5\u4e0e until \u8bed\u53e5"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"while [[ \u6761\u4ef6\u5224\u65ad\u5f0f ]]\n    do\n        \u7a0b\u5e8f\n    done\n\nuntil [[ \u6761\u4ef6\u5224\u65ad\u5f0f ]]\n    do\n        \u7a0b\u5e8f\n    done\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"(( expression1 ))\nwhile (( expression2 )); do\n    commands\n    (( expression3 ))\ndone\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'#!/bin/bash\n# while-menu: a menu driven system information program\nDELAY=3 # Number of seconds to display results\nwhile [[ $REPLY != 0 ]]; do\n    clear\n    cat <<- _EOF_\n        Please Select:\n        1. Display System Information\n        2. Display Disk Space\n        3. Display Home Space Utilization\n        0. Quit\n    _EOF_\n    read -p "Enter selection [0-3] > "\n    if [[ $REPLY =~ ^[0-3]$ ]]; then\n        if [[ $REPLY == 1 ]]; then\n            echo "Hostname: $HOSTNAME"\n            uptime\n            sleep $DELAY\n        fi\n        if [[ $REPLY == 2 ]]; then\n            df -h\n            sleep $DELAY\n        fi\n        if [[ $REPLY == 3 ]]; then\n            if [[ $(id -u) -eq 0 ]]; then\n                echo "Home Space Utilization (All Users)"\n                du -sh /home/*\n            else\n                echo "Home Space Utilization ($USER)"\n                du -sh $HOME\n            fi\n            sleep $DELAY\n        fi\n    else\n        echo "Invalid entry."\n        sleep $DELAY\n    fi\ndone\necho "Program terminated."\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'#!/bin/bash\n# while-read: read lines from a file\nwhile read dist version release; do\n    printf "Dist: %s\\tVersion: %s\\tReleased: %s\\n" \\\n        $dist \\\n        $version \\\n        $release\ndone < dist.txt\n')),(0,i.kt)("h4",{id:"do-while-statement"},"do while statement"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"while : ; do\n    actions\n    [[ current_time <= $cutoff ]] || break\ndone\n")),(0,i.kt)("h3",{id:"bash-array"},"Bash Array"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"http://billie66.github.io/TLCL/book/chap36.html"},"Array Reference"))),(0,i.kt)("h3",{id:"bash-function"},"Bash Function"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u51fd\u6570\u5c40\u90e8\u53d8\u91cf ",(0,i.kt)("inlineCode",{parentName:"li"},"local \u53d8\u91cf\u540d"),"."),(0,i.kt)("li",{parentName:"ul"},"\u51fd\u6570\u53c2\u6570 : ",(0,i.kt)("inlineCode",{parentName:"li"},"$"),"/",(0,i.kt)("inlineCode",{parentName:"li"},"+"),"/",(0,i.kt)("inlineCode",{parentName:"li"},"#"),"/",(0,i.kt)("inlineCode",{parentName:"li"},"?"),"/",(0,i.kt)("inlineCode",{parentName:"li"},"@"),"/",(0,i.kt)("inlineCode",{parentName:"li"},"n"),"."),(0,i.kt)("li",{parentName:"ul"},"\u5f15\u7528\u51fd\u6570\u5e93\u6587\u4ef6: ",(0,i.kt)("inlineCode",{parentName:"li"},"source sh \u6587\u4ef6\u540d"),"/",(0,i.kt)("inlineCode",{parentName:"li"},". sh \u6587\u4ef6\u540d"),", \u53ef\u4fee\u6539 ",(0,i.kt)("inlineCode",{parentName:"li"},"~/.bashrc")," \u6587\u4ef6.")),(0,i.kt)("h3",{id:"bash-io"},"Bash IO"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'#!/bin/bash\n# read-validate: validate input\ninvalid_input () {\n    echo "Invalid input \'$REPLY\'" >&2\n    exit 1\n}\nread -p "Enter a single item > "\n# input is empty (invalid)\n[[ -z $REPLY ]] && invalid_input\n# input is multiple items (invalid)\n(( $(echo $REPLY | wc -w) > 1 )) && invalid_input\n# is input a valid filename?\nif [[ $REPLY =~ ^[-[:alnum:]\\._]+$ ]]; then\n    echo "\'$REPLY\' is a valid filename."\n    if [[ -e $REPLY ]]; then\n        echo "And file \'$REPLY\' exists."\n    else\n        echo "However, file \'$REPLY\' does not exist."\n    fi\n    # is input a floating point number?\n    if [[ $REPLY =~ ^-?[[:digit:]]*\\.[[:digit:]]+$ ]]; then\n        echo "\'$REPLY\' is a floating point number."\n    else\n        echo "\'$REPLY\' is not a floating point number."\n    fi\n    # is input an integer?\n    if [[ $REPLY =~ ^-?[[:digit:]]+$ ]]; then\n        echo "\'$REPLY\' is an integer."\n    else\n        echo "\'$REPLY\' is not an integer."\n    fi\nelse\n    echo "The string \'$REPLY\' is not a valid filename."\nfi\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'#!/bin/bash\n# read-menu: a menu driven system information program\nclear\necho "\nPlease Select:\n\n    1. Display System Information\n    2. Display Disk Space\n    3. Display Home Space Utilization\n    0. Quit\n"\nread -p "Enter selection [0-3] > "\n\nif [[ $REPLY =~ ^[0-3]$ ]]; then\n    if [[ $REPLY == 0 ]]; then\n        echo "Program terminated."\n        exit\n    fi\n    if [[ $REPLY == 1 ]]; then\n        echo "Hostname: $HOSTNAME"\n        uptime\n        exit\n    fi\n    if [[ $REPLY == 2 ]]; then\n        df -h\n        exit\n    fi\n    if [[ $REPLY == 3 ]]; then\n        if [[ $(id -u) -eq 0 ]]; then\n            echo "Home Space Utilization (All Users)"\n            du -sh /home/*\n        else\n            echo "Home Space Utilization ($USER)"\n            du -sh $HOME\n        fi\n        exit\n    fi\nelse\n    echo "Invalid entry." >&2\n    exit 1\nfi\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'# interactive mode\nif [[ -n $interactive ]]; then\n    while true; do\n        read -p "Enter name of output file: " filename\n        if [[ -e $filename ]]; then\n            read -p "\'$filename\' exists. Overwrite? [y/n/q] > "\n            case $REPLY in\n            Y|y)    break\n                    ;;\n            Q|q)    echo "Program terminated."\n                    exit\n                    ;;\n            *)      continue\n                    ;;\n            esac\n        elif [[ -z $filename ]]; then\n            continue\n        else\n            break\n        fi\n    done\nfi\n')),(0,i.kt)("h3",{id:"\u4fe1\u53f7"},"\u4fe1\u53f7"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"man 7 signal"),": \u4f20\u9012\u4fe1\u53f7\u7ed9\u8fdb\u7a0b."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"CTRL + C"),": SIGINT."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"CTRL + Z"),": SIGSTP."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"kill/killall"),": SIGINT."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"trap SIG*"),"/",(0,i.kt)("inlineCode",{parentName:"li"},"trap EXIT"),": \u6355\u6349\u4fe1\u53f7(\u540e + \u5ffd\u7565\u4fe1\u53f7/\u9ed8\u8ba4\u5904\u7406\u4fe1\u53f7/\u81ea\u5b9a\u4e49\u5904\u7406\u4fe1\u53f7)."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"trap \u2013 SIG*"),"/",(0,i.kt)("inlineCode",{parentName:"li"},"trap - EXIT"),": \u79fb\u9664\u4fe1\u53f7.")),(0,i.kt)("h3",{id:"bash-debugging"},"Bash Debugging"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"-x")," option:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'#!/bin/bash -x\n# trouble: script to demonstrate common errors\nnumber=1\nif [ $number = 1 ]; then\n    echo "Number is equal to 1."\nelse\n    echo "Number is not equal to 1."\nfi\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'#!/bin/bash\n# trouble: script to demonstrate common errors\nnumber=1\necho "number=$number" # DEBUG\nset -x # Turn on tracing\nif [ $number = 1 ]; then\n    echo "Number is equal to 1."\nelse\n    echo "Number is not equal to 1."\nfi\nset +x # Turn off tracing\n')),(0,i.kt)("h3",{id:"shell-script-best-practices"},"Shell Script Best Practices"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://google.github.io/styleguide/shellguide.html"},"Google Shell Style Guide")),(0,i.kt)("li",{parentName:"ul"},"\u6307\u5b9a\u9ed8\u8ba4\u89e3\u91ca\u5668",(0,i.kt)("inlineCode",{parentName:"li"},"cat /etc/shells")),(0,i.kt)("li",{parentName:"ul"},"\u8bbe\u7f6e",(0,i.kt)("inlineCode",{parentName:"li"},"bash strict mode")),(0,i.kt)("li",{parentName:"ul"},"\u6761\u4ef6\u5224\u65ad\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"li"},"[[ ]]")),(0,i.kt)("li",{parentName:"ul"},"\u4f7f\u7528\u53d8\u91cf\u65f6\u7528\u53cc\u5f15\u53f7\u628a\u53d8\u91cf\u5305\u8d77\u6765 ",(0,i.kt)("inlineCode",{parentName:"li"},'cp -r "$src_dir" "$dest_dir"')),(0,i.kt)("li",{parentName:"ul"},"\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"li"},"$()"),"\u83b7\u53d6\u8868\u8fbe\u5f0f\u7684\u503c"),(0,i.kt)("li",{parentName:"ul"},"\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"li"},"${arr[@]}"),"\u8fdb\u884c\u5217\u8868\u5faa\u73af")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"#!/usr/bin/env bash\n\n# \u8bbe\u7f6e\u547d\u4ee4\u56de\u663e\nset -x\n\n# \u9047\u5230\u672a\u58f0\u660e\u7684\u53d8\u91cf\u5219\u62a5\u9519\u505c\u6b62\nset -u\n# \u9047\u5230\u6267\u884c\u9519\u8bef\u5219\u505c\u6b62\nset -e\n# \u7ba1\u9053\u547d\u4ee4\u5176\u4e2d\u4e00\u6b65\u5931\u8d25\u5219\u4e2d\u6b62\nset -o pipefail\n")),(0,i.kt)("h3",{id:"interactive-shell-script-tips"},"Interactive Shell Script Tips"),(0,i.kt)("h4",{id:"check-root-validation"},"Check Root Validation"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'if (( $EUID != 0 )); then\n    echo "Please run as root!"\n    exit\nfi\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# run as root directly\nsudo chown root <filename>\nsudo chmod +s <filename>\n")),(0,i.kt)("h4",{id:"bash-help-option"},"Bash help option"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'#!/bin/sh\nif [[ ${#@} -ne 0 ]] && [[ "${@#"--help"}" = "" ]]; then\n  printf -- \'...help...\\n\';\n  exit 0;\nfi;\n')),(0,i.kt)("h4",{id:"bash-silent-option"},"Bash Silent Option"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'#!/bin/sh\nif [[ ${#@} -ne 0 ]] && [[ "${@#"--silent"}" = "" ]]; then\n  stty -echo;\nfi;\n# ...\n# before point of intended output:\nstty +echo && printf -- \'intended output\\n\';\n# silence it again till end of script\nstty -echo;\n# ...\nstty +echo;\nexit 0;\n')),(0,i.kt)("h4",{id:"check-command-validation"},"Check Command Validation"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"#!/bin/sh\n_=$(command -v docker);\nif [[ \"$?\" != \"0\" ]]; then\n  printf -- 'You don\\'t seem to have Docker installed.\\n';\n  printf -- 'Get it: https://www.docker.com/community-edition\\n';\n  printf -- 'Exiting with code 127...\\n';\n  exit 127;\nfi;\n")),(0,i.kt)("h5",{id:"get-absolute-path"},"Get Absolute Path"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'#!/bin/sh\nCUR_DIR="$(dirname $0);"\nprintf -- \'moving application to /opt/app.jar\';\nmv "${CUR_DIR}/application.jar" /opt/app.jar;\n')),(0,i.kt)("h4",{id:"bash-error-handle"},"Bash error handle"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'#!/bin/sh\nerror_handle() {\n  stty echo;\n}\n\nif [[ ${#@} -ne 0 ]] && [[ "${@#"--silent"}" = "" ]]; then\n  stty -echo;\n  trap error_handle INT;\n  trap error_handle TERM;\n  trap error_handle KILL;\n  trap error_handle EXIT;\nfi;\n# ...\n')),(0,i.kt)("h4",{id:"bash-loading-progress"},"Bash loading progress"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"#!/bin/sh\nprintf -- 'Performing asynchronous action..';\n./trigger-action;\nDONE=0;\nwhile [ $DONE -eq 0 ]; do\n  ./async-checker;\n  if [ \"$?\" = \"0\" ]; then DONE=1; fi;\n  printf -- '.';\n  sleep 1;\ndone;\nprintf -- ' DONE!\\n';\n")),(0,i.kt)("h3",{id:"zsh"},"Zsh"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'# Install zsh and powerline\nsudo apt install zsh powerline powerline-status\n\n# Install oh-my-zsh\nsh -c "$(wget -O- https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"\n\n# Install zsh themes\ngit clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k\ngit clone --depth=1 https://github.com/sabertazimi/dragon-zsh-theme.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/dragon\n\n# Install zsh plugins\n\ngit clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions\ngit clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting\n\nplugins=(\n  command-not-found fzf git git-prompt github\n  history lighthouse man node npm nvm pm2 vi-mode yarn\n)\n')),(0,i.kt)("h2",{id:"terminal"},"Terminal"),(0,i.kt)("h3",{id:"terminal-basis"},"Terminal Basis"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u7535\u4f20\u6253\u5b57\u673a (TeleTypeWriter, TTY) \u662f\u7269\u7406\u8bbe\u5907,\n\u6700\u521d\u662f\u4e3a\u7535\u62a5\u8bbe\u8ba1, \u540e\u6765\u88ab\u8fde\u63a5\u5230\u8ba1\u7b97\u673a\u4e0a, \u53d1\u9001\u8f93\u5165\u548c\u83b7\u53d6\u8f93\u51fa."),(0,i.kt)("li",{parentName:"ul"},"\u7535\u4f20\u6253\u5b57\u673a (TTY) \u73b0\u5728\u88ab\u8fd0\u884c\u5728\u5185\u6838\u4e2d\u7684\u6a21\u5757\u6240\u6a21\u62df,\n\u88ab\u79f0\u4e3a\u7ec8\u7aef\u6a21\u62df\u5668 (Terminal Emulator)."),(0,i.kt)("li",{parentName:"ul"},"\u4f2a\u7ec8\u7aef (Pseudo Terminal, PTY) \u662f\u8fd0\u884c\u5728\u7528\u6237\u533a\u7684\u7ec8\u7aef\u6a21\u62df\u7a0b\u5e8f."),(0,i.kt)("li",{parentName:"ul"},"Shell \u7531 Terminal fork \u51fa\u6765, \u662f Terminal \u7684\u5b50\u8fdb\u7a0b.\nTerminal \u5904\u7406\u952e\u76d8\u4e8b\u4ef6, \u8d1f\u8d23\u5b57\u7b26\u7684\u663e\u793a.\nShell \u8d1f\u8d23\u89e3\u91ca\u6267\u884c\u7528\u6237\u8f93\u5165\u7684\u5b57\u7b26, \u8fd4\u56de\u64cd\u4f5c\u7cfb\u7edf\u5e95\u5c42\u54cd\u5e94."),(0,i.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"li"},"stty")," \u547d\u4ee4\u5bf9 TTY \u8bbe\u5907\u8fdb\u884c\u914d\u7f6e."),(0,i.kt)("li",{parentName:"ul"},"\u8fdc\u7a0b\u7ec8\u7aef ",(0,i.kt)("inlineCode",{parentName:"li"},"ssh")," \u4e5f\u662f\u4e00\u79cd\u4f2a\u7ec8\u7aef PTY:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Local: PTY Master is Terminal, PTY Slave is ",(0,i.kt)("inlineCode",{parentName:"li"},"bash")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"ssh client"),"."),(0,i.kt)("li",{parentName:"ul"},"Remote: PTY Master is ",(0,i.kt)("inlineCode",{parentName:"li"},"ssh server"),", PTY Slave is ",(0,i.kt)("inlineCode",{parentName:"li"},"bash"),".")))),(0,i.kt)("h3",{id:"default-terminal"},"Default Terminal"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"update-alternatives"),": maintain symbolic links determining default commands."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo update-alternatives --get-selections\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo update-alternatives --install /usr/bin/x-terminal-emulator\n \\ x-terminal-emulator /opt/Hyper/hyper 50\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo update-alternatives --config x-terminal-emulator\n")),(0,i.kt)("h3",{id:"tmux"},"Tmux"),(0,i.kt)("h4",{id:"basic-tmux-commands"},"Basic Tmux Commands"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"tmux ls\ntmux new -s sessionID\ntmux a -t sessionID # attach\ntmux show -g >> current.tmux.conf # export configuration\n")),(0,i.kt)("h4",{id:"basic-hotkeys"},"Basic Hotkeys"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"?        # \u5feb\u6377\u952e\u5e2e\u52a9\u5217\u8868\n")),(0,i.kt)("h5",{id:"session-management"},"Session management"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},":new<CR> # \u521b\u5efa\u65b0\u7684 Session\uff0c\u5176\u4e2d : \u662f\u8fdb\u5165 Tmux \u547d\u4ee4\u884c\u7684\u5feb\u6377\u952e\ns list sessions\n$ rename the current session\nd detach from the current session\n")),(0,i.kt)("h5",{id:"tmux-windows-hotkeys"},"Tmux Windows Hotkeys"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'c create a new window\n, rename the current window\nw list windows\n% split horizontally\n" split vertically\nn change to the next window\np change to the previous window\n0 to 9 select windows 0 through 9\n')),(0,i.kt)("h5",{id:"tmux-panes-hotkeys"},"Tmux Panes Hotkeys"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'% create a horizontal pane\n" create a vertical pane\n<space>  # \u5207\u6362 Pane \u5e03\u5c40\nh move to the left pane. *\nj move to the pane below *\nl move to the right pane *\nk move to the pane above *\nq show pane numbers\no toggle between panes\n} swap with next pane\n{ swap with previous pane\n! break the pane out of the window\nx kill the current pane\nt        # \u663e\u793a\u4e00\u4e2a\u65f6\u949f\n')),(0,i.kt)("h5",{id:"tmux-scroll"},"Tmux Scroll"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"C-a + [")," to into scroll mode, ",(0,i.kt)("inlineCode",{parentName:"li"},"q")," to quit scroll mode"),(0,i.kt)("li",{parentName:"ul"},"copy mode can scroll too"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"set -g mouse on")," for enabling mouse scrolling")),(0,i.kt)("h4",{id:"tmux-configuration"},"Tmux Configuration"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'# C-b is not acceptable -- Vim uses it\nset-option -g prefix C-a\nbind-key C-a last-window\n\n# Start numbering at 1\nset -g base-index 1\n\n# Allows for faster key repetition\nset -s escape-time 0\n\n# Set status bar\nset -g status-bg black\nset -g status-fg white\nset -g status-left ""\nset -g status-right "#[fg=green]#H"\n\n# Enable scroll mouse\nset -g mouse on\n\n# Rather than constraining window size to the maximum size of any client\n# connected to the *session*, constrain window size to the maximum size of any\n# client connected to *that window*. Much more reasonable.\nsetw -g aggressive-resize on\n\n# Allows us to use C-a a <command> to send commands to a TMUX session inside\n# another TMUX session\nbind-key a send-prefix\n\n# Reload configuration\nbind r source-file ~/.tmux.conf \\; display-message "Config reloaded"\n\n# Escape to enter copy mode, v to selection, y to yank, p to paste\nbind Escape copy-mode\nbind-key -T copy-mode-vi \'v\' send -X begin-selection\nbind-key -T copy-mode-vi \'y\' send -X copy-selection-and-cancel\n# bind-key -t vi-copy v begin-selection\n# bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"\nunbind p\nbind p pasteb\n\nsetw -g mode-keys vi      # Vi\n\n# Highlight active window\nset-window-option -g window-status-current-bg red\n')),(0,i.kt)("h2",{id:"perf-tools"},"Perf Tools"),(0,i.kt)("h3",{id:"top-command"},"Top Command"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"top\n")),(0,i.kt)("h3",{id:"dmesg"},"dmesg"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"dmesg | tail\n")),(0,i.kt)("h3",{id:"iostat"},"iostat"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"iostat -xz 1\n")),(0,i.kt)("h3",{id:"free"},"free"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"free -m\n")),(0,i.kt)("h3",{id:"sar"},"sar"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"`sar -n DEV 1`\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"`sar -n TCP,ETCP 1`\n")),(0,i.kt)("h3",{id:"perf"},"perf"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"http://www.brendangregg.com/perf.html"},"Perf Examples")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"perf list # events\nperf stat <command>\nperf stat -e <events> <command>\nperf record -e <events> -a <command>\nperf report\n")),(0,i.kt)("h2",{id:"linux-tools"},"Linux Tools"),(0,i.kt)("h3",{id:"ffmpeg"},"FFmpeg"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# https://www.yanxurui.cc/posts/tool/2017-10-07-use-ffmpeg-to-edit-video\nffmpeg -global_options -input_1_options -i input_1 -input_2_options -i input_2 \\\n  -output_1_options output_1 ...\n")),(0,i.kt)("h4",{id:"ffmpeg-probe"},"FFmpeg Probe"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"ffprobe input.mp4\nffmpeg -hide_banner -i input.mkv\n")),(0,i.kt)("h4",{id:"ffmpeg-transform"},"FFmpeg Transform"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"MP4"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"H264"),"Video + ",(0,i.kt)("inlineCode",{parentName:"li"},"ACC"),"Audio"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"WebM"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"VP8"),"Video + ",(0,i.kt)("inlineCode",{parentName:"li"},"Vorbis"),"Audio"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"OGG"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"Theora"),"Video + ",(0,i.kt)("inlineCode",{parentName:"li"},"Vorbis"),"Audio")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# code decoder information\nffmpeg -codecs\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# mkv to mp4\nffmpeg -i input.mkv -codec copy output.mp4\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# compress\nffmpeg -i input.mkv -c copy -c:v libx264 -vf scale=-2:720 output.mkv\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# make mkv with video and subtitle\nffmpeg -i input.avi -i input.srt \\\n  -map 0:0 -map 0:1 -map 1:0 -c:v libx264 -c:a aac -c:s srt output.mkv\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'# flac to mp3\nffmpeg -i "Michael Jackson - Billie Jean.flac" \\\n  -ab 320k "Michael Jackson - Billie Jean.mp3"\nffmpeg -i music_flac.flac \\\n  -acodec libmp3lame      \\\n  -ar 44100               \\\n  -ab 320k                \\\n  -ac 2 music_flac_mp3.mp3\n# - acodec: Audio Coder Decoder \u97f3\u9891\u7f16\u7801\u89e3\u7801\u5668\n# - libmp3lame: MP3 \u89e3\u7801\u5668\n# - ar: audio rate \u97f3\u9891\u91c7\u6837\u7387, \u9ed8\u8ba4\u7528\u539f\u97f3\u9891\u7684\u91c7\u6837\u7387\n# - ab: audio bit rate \u97f3\u9891\u6bd4\u7279\u7387, \u9ed8\u8ba4 128K\n# - ac: audio channels \u97f3\u9891\u58f0\u9053, \u9ed8\u8ba4\u91c7\u7528\u6e90\u97f3\u9891\u7684\u58f0\u9053\u6570\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# mp4 to avi\nffmpeg -i video.mp4 \\\n  -s 1920x1080      \\\n  -pix_fmt yuv420p  \\\n  -vcodec libx264   \\\n  -preset medium    \\\n  -profile:v high   \\\n  -level:v 4.1      \\\n  -crf 23           \\\n  -r 30             \\\n  -acodec aac       \\\n  -ar 44100         \\\n  -ac 2             \\\n  -b:a 128k video_avi.avi\n# - s: \u7f29\u653e\u89c6\u9891\u65b0\u5c3a\u5bf8 (size)\n# - pix_fmt\uff1apixel format, \u8bbe\u7f6e\u89c6\u9891\u989c\u8272\u7a7a\u95f4\n# - vcodec: Video Coder Decoder, \u89c6\u9891\u7f16\u7801\u89e3\u7801\u5668\n# - preset: \u7f16\u7801\u5668\u9884\u8bbe\n# - profile:v: \u7f16\u7801\u5668\u914d\u7f6e, \u4e0e\u538b\u7f29\u6bd4\u6709\u5173. \u5b9e\u65f6\u901a\u8baf-baseline, \u6d41\u5a92\u4f53-main, \u8d85\u6e05\u89c6\u9891-high\n# - level:v: \u5bf9\u7f16\u7801\u5668\u8bbe\u7f6e\u7684\u5177\u4f53\u89c4\u8303\u548c\u9650\u5236, \u6743\u8861\u538b\u7f29\u6bd4\u548c\u753b\u8d28\n# - crf: \u8bbe\u7f6e\u7801\u7387\u63a7\u5236\u6a21\u5f0f, constant rate factor\u6052\u5b9a\u901f\u7387\u56e0\u5b50\u6a21\u5f0f, \u8303\u56f4 0~51, \u6570\u503c\u8d8a\u5c0f, \u753b\u8d28\u8d8a\u9ad8\n# - r:\u8bbe\u7f6e\u89c6\u9891\u5e27\u7387\n# - b:a: \u97f3\u9891\u6bd4\u7279\u7387, \u5927\u591a\u6570\u7f51\u7ad9\u9650\u5236\u97f3\u9891\u6bd4\u7279\u7387 128k, 129k\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# Scale pictures\nffmpeg -i input.jpg -vf scale=320:240 output_320x240.png\n")),(0,i.kt)("h4",{id:"ffmpeg-cutting"},"FFmpeg Cutting"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# audio only\nffmpeg -i cut.mp4 -vn output.mp3\nffmpeg -i video.mp4 -vn -acodec copy video_noVideo.m4a\n\n# video only\nffmpeg -i video.mp4 -vcodec copy -an video_silent.mp4\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# from to cutting\nffmpeg -i music.mp3 -ss 00:00:30 -to 00:02:00 -acodec copy music_cutout.mp3\nffmpeg -i in.mp4 -ss 00:01:00 -to 00:01:10 -c copy out.mp4\nffmpeg -ss 00:01:00 -i in.mp4 -to 00:01:10 -c copy -copyts out.mp4\n\n# 30s duration cutting\nffmpeg -ss 00:02:00.0 -i input.mkv -t 30 -c copy output.mkv\nffmpeg -i input.mkv -ss 00:02:00.0 -t 30 -c copy output.mkv\nffmpeg -ss 00:01:30.0 -i input.mkv -ss 00:00:30.0 -t 30 output.mkv\n")),(0,i.kt)("h4",{id:"ffmpeg-mixing"},"FFmpeg Mixing"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'# replace audio\nffmpeg -i input.mkv -i input.mp3 -map 0:v -map 1:a -c copy -shortest output.mp4\n\n# merge audio and video\nffmpeg -i video_noVideo.m4a -i video_silent.mp4 -c copy video_merge.mp4\n\nffmpeg -i "concat:01.mp4|02.mp4|03.mp4" -c copy out.mp4\n\nffmpeg -i input.mkv -i output.aac \\\n  -filter_complex "[0:a][1:a]amerge=inputs=2[a]" -map 0:v -map "[a]" \\\n  -c:v copy -c:a aac -ac 2 -shortest output.mp4\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'# Merge pictures\nffmpeg -i 1.png -i 2.png -filter_complex "vstack" output.png\n')),(0,i.kt)("h4",{id:"ffmpeg-screenshot"},"FFmpeg Screenshot"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# -vf -> -filter:v\nffmpeg -ss 00:30:14.435 -i input.mkv -vframes 1 out.png\nffmpeg -i input.mkv -vf fps=1/60 -strftime 1 out_%Y%m%d%H%M%S.jpg\n")),(0,i.kt)("h4",{id:"ffmpeg-gif"},"FFmpeg Gif"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'ffmpeg -i video.mp4 -ss 7.5 -to 8.5 -s 640x320 -r 15 video_gif.gif\n\npalette="/tmp/palette.png"\nfilters="fps=10,scale=-1:144:flags=lanczos"\nffmpeg -ss 30 -t 5 -i input.mp4 -vf "$filters,palettegen" -y $palette\nffmpeg -ss 30 -t 5 -i input.mp4 -i $palette \\\n  -filter_complex "$filters [x]; [x][1:v] paletteuse" -y output.gif\n')),(0,i.kt)("h4",{id:"ffmpeg-subtitle"},"FFmpeg Subtitle"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"ffmpeg -i input.mkv -vf subtitles=input.srt output.mp4\nffmpeg -i input.mkv -vf ass=input.ass output.mp4\n")),(0,i.kt)("h4",{id:"ffmpeg-watermark"},"FFmpeg Watermark"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'ffmpeg -i input.mkv -i input.png \\\n  -filter_complex "overlay=W-w-5:5" -c copy -c:v libx264 output.mkv\n')),(0,i.kt)("h4",{id:"ffmpeg-desktop-recording"},"FFmpeg Desktop Recording"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# windows\nffmpeg -f gdigrab -i desktop rec.mp4\n\n# linux\nsudo ffmpeg -f fbdev -framerate 10 -i /dev/fb0 rec.mp4\n")),(0,i.kt)("h4",{id:"ffmpeg-live-streaming"},"FFmpeg Live Streaming"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'ffmpeg -re i rec.mp4 \u6309\u7167\u7f51\u7ad9\u8981\u6c42\u7f16\u7801 -f flv "\u4f60\u7684 RTMP \u5730\u5740/\u4f60\u7684\u76f4\u64ad\u7801"\n')),(0,i.kt)("h3",{id:"nginx"},"Nginx"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/etc/nginx/sites-available"),": sites config")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"nginx -t # check config syntax\n")),(0,i.kt)("h4",{id:"nginx-basic-configuration"},"Nginx Basic Configuration"),(0,i.kt)("p",null,"\u6cdb\u57df\u540d\u8def\u5f84\u5206\u79bb: ",(0,i.kt)("inlineCode",{parentName:"p"},"xxx.test.dev")," -> ",(0,i.kt)("inlineCode",{parentName:"p"},"/usr/local/html/xxx")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"server {\n  listen 80;\n  server_name ~^([\\w-]+)\\.test\\.dev$;\n  root /usr/local/html/$1;\n}\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'server {\n  # SSL configuration\n  #\n  # listen 443 ssl default_server;\n  # listen [::]:443 ssl default_server;\n  #\n  root /var/www/html/;\n\n  # Add index.php to the list if you are using PHP\n  index index.html index.htm index.nginx-debian.html;\n\n  server_name example.tld www.example.tld;\n\n  # Cache static assets\n  location ~* \\.(?:jpg|jpeg|gif|png|ico|svg)$ {\n    expires 7d;\n    add_header Cache-Control "public";\n  }\n\n  location ^~ /assets/ {\n    gzip_static on;\n    expires 12h;\n    add_header Cache-Control "public";\n  }\n\n  # Cache css and js bundle\n  location ~* \\.(?:css|js)$ {\n    add_header Cache-Control "no-cache, public, must-revalidate, proxy-revalidate";\n  }\n\n  location / {\n    include /etc/nginx/mime.types;\n    try_files $uri $uri/ /index.html;\n    # try_files $uri $uri/ =404;\n\n    # proxy_http_version 1.1;\n    # proxy_cache_bypass $http_upgrade;\n    # proxy_set_header Upgrade $http_upgrade;\n    # proxy_set_header Connection \'upgrade\';\n    # proxy_set_header Host $host;\n    # proxy_set_header X-Real-IP $remote_addr;\n    # proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    # proxy_set_header X-Forwarded-Proto $scheme;\n    # proxy_pass http://localhost:3000;\n  }\n}\n')),(0,i.kt)("h3",{id:"namespaces-and-cgroup"},"Namespaces and Cgroup"),(0,i.kt)("h4",{id:"namespaces"},"Namespaces"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# PID Namespace\nunshare --fork --pid --mount-proc /bin/bash\nps -aux\n\n# Mount Namespace\nunshare --fork --mount /bin/bash\nmkdir /tmp/mnt\nmount -t tmpfs -o size=1m tmpfs /tmp/mnt\ndf -h |grep mnt\n\n# User Namespace\nPS1='\\u@container#' unshare --user -r /bin/bash\n\n# UTS Namespace (isolated hostname)\nunshare --fork --uts /bin/bash\nhostname -b container\n\n# IPC Namespace\nunshare --fork --ipc /bin/bash\nipcmk -Q\nipcs -q\n\n# Net Namespace\nunshare --fork --net /bin/bash\nip addr\nnetstat -ntlp\n")),(0,i.kt)("h4",{id:"cgroup"},"Cgroup"),(0,i.kt)("p",null,"Cgroup (Linux Control Group):\nlimit process group resources usage,\nincluding CPU, Memory, Disk I/O, Network Bandwidth etc."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Resource usage limit."),(0,i.kt)("li",{parentName:"ul"},"Priority."),(0,i.kt)("li",{parentName:"ul"},"Resource record."),(0,i.kt)("li",{parentName:"ul"},"Process Control.")),(0,i.kt)("p",null,"List cgroup"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"mount -t cgroup\nls -l /sys/fs/cgroup/\n")),(0,i.kt)("p",null,"Create cgroup"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir /sys/fs/cgroup/cpu/loop\nls -l /sys/fs/cgroup/cpu/loop\ncat /sys/fs/cgroup/cpu/loop/cpu.cfs_period_us # 100000us\ncat /sys/fs/cgroup/cpu/loop/cpu.cfs_quota_us  # -1 (no limit)\n")),(0,i.kt)("p",null,"Resource control via cgroup"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# limit cpu usage to 50%\necho 50000 >/sys/fs/cgroup/cpu/loop/cpu.cfs_quota_us\n\n# add pid to `loop` cgroup\necho 21497 >/sys/fs/cgroup/cpu/loop/tasks\n")),(0,i.kt)("h3",{id:"docker"},"Docker"),(0,i.kt)("h4",{id:"docker-installation"},"Docker Installation"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},' sudo apt-get update\n sudo apt-get install \\\n  apt-transport-https \\\n  ca-certificates \\\n  curl \\\n  gnupg \\\n  lsb-release\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\nsudo add-apt-repository \\\n  "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"\nsudo apt update\nsudo apt install docker-ce docker-ce-cli containerd.io\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"curl -fsSL https://get.docker.com -o get-docker.sh\nsudo DRY_RUN=1 sh get-docker.sh\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo systemctl status docker\nsudo usermod -aG docker $USER\n")),(0,i.kt)("h4",{id:"docker-uninstallation"},"Docker Uninstallation"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"docker container stop $(docker container ls -aq)\ndocker system prune -a --volumes\nsudo apt purge docker-ce docker-ce-cli containerd.io\nsudo apt autoremove\nsudo rm -rf /var/lib/docker\nsudo rm -rf /var/lib/containerd\n")),(0,i.kt)("h4",{id:"docker-basic-usage"},"Docker Basic Usage"),(0,i.kt)("h5",{id:"build-docker-image"},"Build Docker Image"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"docker build . -t image-name\n\n# use Dockerfile at the root of the repository\ndocker build <github-repo-url> -t image-name\n")),(0,i.kt)("h5",{id:"run-docker-image"},"Run Docker Image"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# docker run -dp <host-port>:<container-port> [docker-image]\ndocker run -d -p 80:80 --name app-name docker/getting-started\ndocker run -d -p 80:80/tcp -p 80:80/udp --name app-name docker/getting-started\n")))}c.isMDXComponent=!0}}]);